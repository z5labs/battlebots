<!doctype html><html itemscope itemtype=http://schema.org/WebPage lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><link rel="shortcut icon" href=/battlebots/pr-preview/pr-153/favicons/favicon.ico><link rel=apple-touch-icon href=/battlebots/pr-preview/pr-153/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/battlebots/pr-preview/pr-153/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/battlebots/pr-preview/pr-153/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/battlebots/pr-preview/pr-153/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/battlebots/pr-preview/pr-153/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/battlebots/pr-preview/pr-153/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/battlebots/pr-preview/pr-153/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/battlebots/pr-preview/pr-153/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/battlebots/pr-preview/pr-153/favicons/android-192x192.png sizes=192x192><title>Tempo: Overview | Battle Bots Documentation</title><meta name=description content="Comprehensive overview of Grafana Tempo distributed tracing backend, covering architecture, deployment modes, and operational best practices."><meta property="og:url" content="https://z5labs.github.io/battlebots/pr-preview/pr-153/research_and_development/analysis/observability/traces/tempo/tempo-overview/"><meta property="og:site_name" content="Battle Bots Documentation"><meta property="og:title" content="Tempo: Overview"><meta property="og:description" content="Comprehensive overview of Grafana Tempo distributed tracing backend, covering architecture, deployment modes, and operational best practices."><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="research_and_development"><meta itemprop=name content="Tempo: Overview"><meta itemprop=description content="Comprehensive overview of Grafana Tempo distributed tracing backend, covering architecture, deployment modes, and operational best practices."><meta itemprop=wordCount content="6071"><meta name=twitter:card content="summary"><meta name=twitter:title content="Tempo: Overview"><meta name=twitter:description content="Comprehensive overview of Grafana Tempo distributed tracing backend, covering architecture, deployment modes, and operational best practices."><link rel=preload href=/battlebots/pr-preview/pr-153/scss/main.min.74eef40c5172b0e2f11bd9c3ea40dba66c2dc642ac5294c208f5dc9ff772c0e9.css as=style integrity="sha256-dO70DFFysOLxG9nD6kDbpmwtxkKsUpTCCPXcn/dywOk=" crossorigin=anonymous><link href=/battlebots/pr-preview/pr-153/scss/main.min.74eef40c5172b0e2f11bd9c3ea40dba66c2dc642ac5294c208f5dc9ff772c0e9.css rel=stylesheet integrity="sha256-dO70DFFysOLxG9nD6kDbpmwtxkKsUpTCCPXcn/dywOk=" crossorigin=anonymous><script src=https://code.jquery.com/jquery-3.7.1.min.js integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin=anonymous></script><script defer src=https://unpkg.com/lunr@2.3.9/lunr.min.js integrity=sha384-203J0SNzyqHby3iU6hzvzltrWi/M41wOP5Gu+BiJMz5nwKykbkUx8Kp7iti0Lpli crossorigin=anonymous></script></head><body class=td-page><header><nav class="td-navbar js-navbar-scroll" data-bs-theme=dark><div class="container-fluid flex-column flex-md-row"><a class=navbar-brand href=/battlebots/pr-preview/pr-153/><span class="navbar-brand__logo navbar-logo"><svg id="Layer_1" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 500 500" style="enable-background:new 0 0 500 500"><g><path style="fill:#fff" d="M116.8525 421.9722c-5.7041.0-10.3442-4.3127-10.3442-9.6129V88.183c0-5.3002 4.6401-9.6117 10.3442-9.6117H320.858c3.0347.0 9.3959.5498 11.7506 2.6302l.3545.3442 58.905 63.2912c2.3101 2.491 2.9202 8.4928 2.9202 11.3184v256.2039c0 5.3002-4.6407 9.6129-10.3436 9.6129H116.8525z"/><g><g><g><path style="fill:#767676" d="M384.4445 423.2066H116.852c-6.3839.0-11.5786-4.8658-11.5786-10.8474V88.1831c0-5.9804 5.1947-10.8461 11.5786-10.8461h204.0062c.377.0 9.2786.0329 12.568 2.9389l.3947.3833 58.9508 63.337c3.2135 3.4652 3.2514 11.7924 3.2514 12.1593v256.2036C396.0231 418.3408 390.8284 423.2066 384.4445 423.2066zM116.5079 411.9189c.0848.0278.1999.0531.3441.0531h267.5925c.1442.0.2581-.0253.3441-.0531V156.1556c-.0076-.9033-.3593-3.7347-.7034-5.0037l-57.6527-61.9416c-1.4651-.3176-4.4533-.6389-5.5742-.6389H116.852c-.143.0-.2594.024-.3441.0531V411.9189zm267.4533-261.149zM327.0321 89.371v.0013V89.371z"/></g></g></g><g><g><path style="fill:#5b7fc0" d="M189.0874 210.1754l.0012-.0012c7.7751.0012 15.0295 4.1862 18.932 10.9234 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3304-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032s-11.328-2.2733-15.458-6.4032-6.4032-9.6186-6.4056-15.4628c.0012-6.025 2.454-11.4897 6.4116-15.4473C177.5953 212.627 183.0601 210.1742 189.0874 210.1754zm7.993 21.8576c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6539 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403S197.0816 234.1722 197.0804 232.033z"/><path style="opacity:.3;fill:#fff" d="M189.0898 210.176c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 212.6276 183.0612 210.176 189.0898 210.176zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 236.239 197.0839 234.2399 197.0839 232.0372z"/><g><defs><path id="SVGID_1_" d="M194.7376 237.6875c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.999 7.9942-7.9942 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.0839 234.2399 196.1861 236.239 194.7376 237.6875z"/></defs><clipPath id="SVGID_2_"><use xlink:href="#SVGID_1_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_2_);fill:#fff" d="M190.0704 225.0237c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 225.7247 191.9774 225.0237 190.0704 225.0237z"/><path style="opacity:.13;clip-path:url(#SVGID_2_);fill:#020202" d="M190.0704 225.0237c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 225.7247 191.9774 225.0237 190.0704 225.0237z"/></g><g><defs><path id="SVGID_3_" d="M189.0898 210.176c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 212.6276 183.0612 210.176 189.0898 210.176zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 236.239 197.0839 234.2399 197.0839 232.0372z"/></defs><clipPath id="SVGID_4_"><use xlink:href="#SVGID_3_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_4_);fill:#5b7fc0" d="M172.6595 215.6045c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8612 12.0547.0024 21.8636-9.797 21.8613-21.8612.0024-3.8475-1.0151-7.6326-2.9353-10.9462-3.8977-6.7324-11.1497-10.9151-18.926-10.9151C182.0806 209.1953 176.6171 211.647 172.6595 215.6045z"/></g></g><rect x="198.8952" y="225.1043" style="fill:#5b7fc0" width="122.6266" height="13.8671"/></g><g><path style="fill:#d95140" d="M189.0874 155.7611l.0012-.0012c7.7751.0012 15.0295 4.1862 18.932 10.9234 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3304-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032s-11.328-2.2733-15.458-6.4032-6.4032-9.6186-6.4056-15.4628c.0012-6.0249 2.454-11.4897 6.4116-15.4473C177.5953 158.2128 183.0601 155.7599 189.0874 155.7611zm7.993 21.8577c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6539 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403C196.2508 181.7667 197.0816 179.758 197.0804 177.6188z"/><path style="opacity:.3;fill:#fff" d="M189.0898 155.7617c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 158.2134 183.0612 155.7617 189.0898 155.7617zm7.9941 21.8613c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 181.8248 197.0839 179.8256 197.0839 177.623z"/><g><defs><path id="SVGID_5_" d="M194.7376 183.2733c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.9989 7.9942-7.9942 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.0839 179.8256 196.1861 181.8248 194.7376 183.2733z"/></defs><clipPath id="SVGID_6_"><use xlink:href="#SVGID_5_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_6_);fill:#fff" d="M190.0704 170.6095c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 171.3104 191.9774 170.6095 190.0704 170.6095z"/><path style="opacity:.13;clip-path:url(#SVGID_6_);fill:#020202" d="M190.0704 170.6095c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 171.3104 191.9774 170.6095 190.0704 170.6095z"/></g><g><defs><path id="SVGID_7_" d="M189.0898 155.7617c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 158.2134 183.0612 155.7617 189.0898 155.7617zm7.9941 21.8613c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 181.8248 197.0839 179.8256 197.0839 177.623z"/></defs><clipPath id="SVGID_8_"><use xlink:href="#SVGID_7_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_8_);fill:#d95140" d="M172.6595 161.1903c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8613 12.0547.0024 21.8636-9.797 21.8613-21.8613.0024-3.8474-1.0151-7.6326-2.9353-10.9462-3.8977-6.7324-11.1497-10.9151-18.926-10.9151C182.0806 154.7811 176.6171 157.2327 172.6595 161.1903z"/></g><rect x="198.8952" y="170.69" style="fill:#d95140" width="122.6266" height="13.8671"/></g><g><g><path style="fill:#56a55c" d="M189.5379 264.6147l.0012-.0012c7.7751.0012 15.0294 4.1862 18.932 10.9235 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3304-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032-5.8394.0-11.3281-2.2733-15.458-6.4032-4.13-4.13-6.4032-9.6186-6.4056-15.4628.0012-6.0249 2.454-11.4897 6.4116-15.4472C178.0458 267.0663 183.5105 264.6135 189.5379 264.6147zm7.993 21.8576c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6538 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403C196.7013 290.6202 197.5321 288.6115 197.5309 286.4723z"/><path style="opacity:.3;fill:#fff" d="M189.5403 264.6153c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8065-21.8612-21.8613.0-6.0285 2.4516-11.492 6.4116-15.452C178.0482 267.0669 183.5117 264.6153 189.5403 264.6153zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.6366 290.6783 197.5344 288.6792 197.5344 286.4765z"/><g><defs><path id="SVGID_9_" d="M195.1881 292.1268c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.9989 7.9942-7.9941 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.5344 288.6792 196.6366 290.6783 195.1881 292.1268z"/></defs><clipPath id="SVGID_10_"><use xlink:href="#SVGID_9_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_10_);fill:#fff" d="M190.5209 279.463c-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7446-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9941 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C194.239 280.164 192.4279 279.463 190.5209 279.463z"/><path style="opacity:.13;clip-path:url(#SVGID_10_);fill:#020202" d="M190.5209 279.463c-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7446-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9941 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C194.239 280.164 192.4279 279.463 190.5209 279.463z"/></g><g><defs><path id="SVGID_11_" d="M189.5403 264.6153c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8065-21.8612-21.8613.0-6.0285 2.4516-11.492 6.4116-15.452C178.0482 267.0669 183.5117 264.6153 189.5403 264.6153zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.6366 290.6783 197.5344 288.6792 197.5344 286.4765z"/></defs><clipPath id="SVGID_12_"><use xlink:href="#SVGID_11_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_12_);fill:#56a55c" d="M173.11 270.0439c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8613 12.0547.0024 21.8636-9.797 21.8613-21.8613.0024-3.8474-1.0151-7.6326-2.9353-10.9462-3.8977-6.7325-11.1497-10.9151-18.926-10.9151C182.5311 263.6346 177.0676 266.0863 173.11 270.0439z"/></g></g><rect x="199.3456" y="279.5436" style="fill:#56a55c" width="122.6266" height="13.8671"/></g><g><g><path style="fill:#f1bc42" d="M189.0874 318.7208l.0012-.0012c7.7751.0012 15.0295 4.1862 18.932 10.9234 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3305-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032s-11.328-2.2733-15.458-6.4032-6.4032-9.6186-6.4056-15.4628c.0012-6.025 2.454-11.4897 6.4116-15.4472C177.5953 321.1724 183.0601 318.7196 189.0874 318.7208zm7.993 21.8576c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6539 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403S197.0816 342.7176 197.0804 340.5784z"/><path style="opacity:.3;fill:#fff" d="M189.0898 318.7214c7.7763.0 15.0283 4.1826 18.926 10.915 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8612-12.0547.0024-21.8636-9.8065-21.8612-21.8612.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 321.173 183.0612 318.7214 189.0898 318.7214zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 344.7844 197.0839 342.7853 197.0839 340.5826z"/><g><defs><path id="SVGID_13_" d="M194.7376 346.2329c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.999 7.9942-7.9942 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.0839 342.7853 196.1861 344.7844 194.7376 346.2329z"/></defs><clipPath id="SVGID_14_"><use xlink:href="#SVGID_13_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_14_);fill:#fff" d="M190.0704 333.5691c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0834 6.1218 2.8788C193.7885 334.2701 191.9774 333.5691 190.0704 333.5691z"/><path style="opacity:.13;clip-path:url(#SVGID_14_);fill:#020202" d="M190.0704 333.5691c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0834 6.1218 2.8788C193.7885 334.2701 191.9774 333.5691 190.0704 333.5691z"/></g><g><defs><path id="SVGID_15_" d="M189.0898 318.7214c7.7763.0 15.0283 4.1826 18.926 10.915 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8612-12.0547.0024-21.8636-9.8065-21.8612-21.8612.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 321.173 183.0612 318.7214 189.0898 318.7214zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 344.7844 197.0839 342.7853 197.0839 340.5826z"/></defs><clipPath id="SVGID_16_"><use xlink:href="#SVGID_15_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_16_);fill:#f1bc42" d="M172.6595 324.15c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8612 12.0547.0024 21.8636-9.797 21.8613-21.8612.0024-3.8474-1.0151-7.6327-2.9353-10.9462-3.8977-6.7324-11.1497-10.9151-18.926-10.9151C182.0806 317.7407 176.6171 320.1924 172.6595 324.15z"/></g></g><rect x="198.8952" y="333.6497" style="fill:#f1bc42" width="122.6266" height="13.8671"/></g></g></svg></span><span class=navbar-brand__name>Battle Bots Documentation</span></a><div class="td-navbar-nav-scroll ms-md-auto" id=main_navbar><ul class=navbar-nav></ul></div><div class="d-none d-lg-block"><div class="td-search td-search--offline"><div class=td-search__icon></div><input type=search class="td-search__input form-control" placeholder="Search this site…" aria-label="Search this site…" autocomplete=off data-offline-search-index-json-src=/battlebots/pr-preview/pr-153/offline-search-index.c5074e21e07be77e3ed92fb10d2544cd.json data-offline-search-base-href=/ data-offline-search-max-results=10></div></div></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><form class="td-sidebar__search d-flex align-items-center"><div class="td-search td-search--offline"><div class=td-search__icon></div><input type=search class="td-search__input form-control" placeholder="Search this site…" aria-label="Search this site…" autocomplete=off data-offline-search-index-json-src=/battlebots/pr-preview/pr-153/offline-search-index.c5074e21e07be77e3ed92fb10d2544cd.json data-offline-search-base-href=/ data-offline-search-max-results=10></div><button class="btn btn-link td-sidebar__toggle d-md-none p-0 ms-3 fas fa-bars" type=button data-bs-toggle=collapse data-bs-target=#td-section-nav aria-controls=td-section-nav aria-expanded=false aria-label="Toggle section navigation"></button></form><nav class="td-sidebar-nav collapse" id=td-section-nav><ul class="td-sidebar-nav__section pe-md-3 ul-0"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-battlebotspr-previewpr-153-li><a href=/battlebots/pr-preview/pr-153/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section tree-root" id=m-battlebotspr-previewpr-153><span>Battle Bots</span></a><ul class=ul-1><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-battlebotspr-previewpr-153research_and_development-li><a href=/battlebots/pr-preview/pr-153/research_and_development/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-battlebotspr-previewpr-153research_and_development><span>Research & Design</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-battlebotspr-previewpr-153research_and_developmentuser-journeys-li><a href=/battlebots/pr-preview/pr-153/research_and_development/user-journeys/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-battlebotspr-previewpr-153research_and_developmentuser-journeys><span>User Journeys</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-battlebotspr-previewpr-153research_and_developmentuser-journeys0001-poc-li><a href=/battlebots/pr-preview/pr-153/research_and_development/user-journeys/0001-poc/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-battlebotspr-previewpr-153research_and_developmentuser-journeys0001-poc><span>[0001] Proof of Concept - 1v1 Battle</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-battlebotspr-previewpr-153research_and_developmentanalysis-li><a href=/battlebots/pr-preview/pr-153/research_and_development/analysis/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-battlebotspr-previewpr-153research_and_developmentanalysis><span>Analysis</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-battlebotspr-previewpr-153research_and_developmentanalysisgame-mechanics-li><a href=/battlebots/pr-preview/pr-153/research_and_development/analysis/game-mechanics/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-battlebotspr-previewpr-153research_and_developmentanalysisgame-mechanics><span>Game Mechanics</span></a><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-battlebotspr-previewpr-153research_and_developmentanalysisgame-mechanicsbattle-space-li><a href=/battlebots/pr-preview/pr-153/research_and_development/analysis/game-mechanics/battle-space/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-battlebotspr-previewpr-153research_and_developmentanalysisgame-mechanicsbattle-space><span>Battle Space</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-battlebotspr-previewpr-153research_and_developmentanalysisgame-mechanicscharacteristics-li><a href=/battlebots/pr-preview/pr-153/research_and_development/analysis/game-mechanics/characteristics/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-battlebotspr-previewpr-153research_and_developmentanalysisgame-mechanicscharacteristics><span>Bot Characteristics</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-battlebotspr-previewpr-153research_and_developmentanalysisgame-mechanicsequipment-li><a href=/battlebots/pr-preview/pr-153/research_and_development/analysis/game-mechanics/equipment/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-battlebotspr-previewpr-153research_and_developmentanalysisgame-mechanicsequipment><span>Equipment System</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-battlebotspr-previewpr-153research_and_developmentanalysisgame-mechanicsactions-li><a href=/battlebots/pr-preview/pr-153/research_and_development/analysis/game-mechanics/actions/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-battlebotspr-previewpr-153research_and_developmentanalysisgame-mechanicsactions><span>Bot Actions</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-battlebotspr-previewpr-153research_and_developmentanalysisgame-mechanicswin-conditions-li><a href=/battlebots/pr-preview/pr-153/research_and_development/analysis/game-mechanics/win-conditions/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-battlebotspr-previewpr-153research_and_developmentanalysisgame-mechanicswin-conditions><span>Win Conditions</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-battlebotspr-previewpr-153research_and_developmentanalysisprotocols-li><a href=/battlebots/pr-preview/pr-153/research_and_development/analysis/protocols/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-battlebotspr-previewpr-153research_and_developmentanalysisprotocols><span>Protocols</span></a><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-battlebotspr-previewpr-153research_and_developmentanalysisprotocolsgrpc-li><a href=/battlebots/pr-preview/pr-153/research_and_development/analysis/protocols/grpc/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-battlebotspr-previewpr-153research_and_developmentanalysisprotocolsgrpc><span>gRPC Protocol Analysis</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-battlebotspr-previewpr-153research_and_developmentanalysisprotocolshttp-li><a href=/battlebots/pr-preview/pr-153/research_and_development/analysis/protocols/http/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-battlebotspr-previewpr-153research_and_developmentanalysisprotocolshttp><span>HTTP-based Protocols Analysis</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-battlebotspr-previewpr-153research_and_developmentanalysisprotocolscustom-li><a href=/battlebots/pr-preview/pr-153/research_and_development/analysis/protocols/custom/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-battlebotspr-previewpr-153research_and_developmentanalysisprotocolscustom><span>Custom TCP/UDP Protocol Analysis</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-battlebotspr-previewpr-153research_and_developmentanalysisobservability-li><a href=/battlebots/pr-preview/pr-153/research_and_development/analysis/observability/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-battlebotspr-previewpr-153research_and_developmentanalysisobservability><span>Observability Analysis</span></a><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-battlebotspr-previewpr-153research_and_developmentanalysisobservabilitytracestempo-li><a href=/battlebots/pr-preview/pr-153/research_and_development/analysis/observability/traces/tempo/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-battlebotspr-previewpr-153research_and_developmentanalysisobservabilitytracestempo><span>Grafana Tempo</span></a><ul class="ul-5 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-battlebotspr-previewpr-153research_and_developmentanalysisobservabilitytracestempotempo-otlp-integration-li><a href=/battlebots/pr-preview/pr-153/research_and_development/analysis/observability/traces/tempo/tempo-otlp-integration/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-battlebotspr-previewpr-153research_and_developmentanalysisobservabilitytracestempotempo-otlp-integration><span>Tempo: OTLP and OpenTelemetry Collector Integration</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child active-path" id=m-battlebotspr-previewpr-153research_and_developmentanalysisobservabilitytracestempotempo-overview-li><a href=/battlebots/pr-preview/pr-153/research_and_development/analysis/observability/traces/tempo/tempo-overview/ class="align-left ps-0 active td-sidebar-link td-sidebar-link__page" id=m-battlebotspr-previewpr-153research_and_developmentanalysisobservabilitytracestempotempo-overview><span class=td-sidebar-nav-active-item>Tempo: Overview</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-battlebotspr-previewpr-153research_and_developmentanalysisobservabilitylogs-li><a href=/battlebots/pr-preview/pr-153/research_and_development/analysis/observability/logs/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-battlebotspr-previewpr-153research_and_developmentanalysisobservabilitylogs><span>Log Storage Analysis</span></a><ul class="ul-5 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id=m-battlebotspr-previewpr-153research_and_developmentanalysisobservabilitylogsloki-li><a href=/battlebots/pr-preview/pr-153/research_and_development/analysis/observability/logs/loki/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-battlebotspr-previewpr-153research_and_developmentanalysisobservabilitylogsloki><span>Grafana Loki</span></a><ul class="ul-6 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-battlebotspr-previewpr-153research_and_developmentanalysisobservabilitylogslokiloki-otlp-integration-li><a href=/battlebots/pr-preview/pr-153/research_and_development/analysis/observability/logs/loki/loki-otlp-integration/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-battlebotspr-previewpr-153research_and_developmentanalysisobservabilitylogslokiloki-otlp-integration><span>Loki: OTLP Integration</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-battlebotspr-previewpr-153research_and_developmentanalysisobservabilitylogslokiloki-overview-li><a href=/battlebots/pr-preview/pr-153/research_and_development/analysis/observability/logs/loki/loki-overview/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-battlebotspr-previewpr-153research_and_developmentanalysisobservabilitylogslokiloki-overview><span>Loki: Overview</span></a></li></ul></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-battlebotspr-previewpr-153research_and_developmentanalysisobservabilitymetrics-li><a href=/battlebots/pr-preview/pr-153/research_and_development/analysis/observability/metrics/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-battlebotspr-previewpr-153research_and_developmentanalysisobservabilitymetrics><span>Metrics Storage</span></a><ul class="ul-5 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id=m-battlebotspr-previewpr-153research_and_developmentanalysisobservabilitymetricsmimir-li><a href=/battlebots/pr-preview/pr-153/research_and_development/analysis/observability/metrics/mimir/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-battlebotspr-previewpr-153research_and_developmentanalysisobservabilitymetricsmimir><span>Grafana Mimir</span></a><ul class="ul-6 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-battlebotspr-previewpr-153research_and_developmentanalysisobservabilitymetricsmimirmimir-otlp-integration-li><a href=/battlebots/pr-preview/pr-153/research_and_development/analysis/observability/metrics/mimir/mimir-otlp-integration/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-battlebotspr-previewpr-153research_and_developmentanalysisobservabilitymetricsmimirmimir-otlp-integration><span>Mimir: OTLP and OpenTelemetry Collector Integration</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-battlebotspr-previewpr-153research_and_developmentanalysisobservabilitymetricsmimirmimir-overview-li><a href=/battlebots/pr-preview/pr-153/research_and_development/analysis/observability/metrics/mimir/mimir-overview/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-battlebotspr-previewpr-153research_and_developmentanalysisobservabilitymetricsmimirmimir-overview><span>Mimir: Overview and Architecture</span></a></li></ul></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-battlebotspr-previewpr-153research_and_developmentanalysisobservabilityotel-collector-li><a href=/battlebots/pr-preview/pr-153/research_and_development/analysis/observability/otel-collector/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-battlebotspr-previewpr-153research_and_developmentanalysisobservabilityotel-collector><span>OpenTelemetry Collector</span></a><ul class="ul-5 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-battlebotspr-previewpr-153research_and_developmentanalysisobservabilityotel-collectoropentelemetry-collector-overview-li><a href=/battlebots/pr-preview/pr-153/research_and_development/analysis/observability/otel-collector/opentelemetry-collector-overview/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-battlebotspr-previewpr-153research_and_developmentanalysisobservabilityotel-collectoropentelemetry-collector-overview><span>OpenTelemetry Collector Overview</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-battlebotspr-previewpr-153research_and_developmentanalysisobservabilityotel-collectorotel-collector-logs-li><a href=/battlebots/pr-preview/pr-153/research_and_development/analysis/observability/otel-collector/otel-collector-logs/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-battlebotspr-previewpr-153research_and_developmentanalysisobservabilityotel-collectorotel-collector-logs><span>OpenTelemetry Collector: Logs Support</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-battlebotspr-previewpr-153research_and_developmentanalysisobservabilityotel-collectorotel-collector-metrics-li><a href=/battlebots/pr-preview/pr-153/research_and_development/analysis/observability/otel-collector/otel-collector-metrics/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-battlebotspr-previewpr-153research_and_developmentanalysisobservabilityotel-collectorotel-collector-metrics><span>OpenTelemetry Collector: Metrics Support</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-battlebotspr-previewpr-153research_and_developmentanalysisobservabilityotel-collectorotel-collector-self-monitoring-li><a href=/battlebots/pr-preview/pr-153/research_and_development/analysis/observability/otel-collector/otel-collector-self-monitoring/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-battlebotspr-previewpr-153research_and_developmentanalysisobservabilityotel-collectorotel-collector-self-monitoring><span>OpenTelemetry Collector: Self-Monitoring</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-battlebotspr-previewpr-153research_and_developmentanalysisobservabilityotel-collectorotel-collector-traces-li><a href=/battlebots/pr-preview/pr-153/research_and_development/analysis/observability/otel-collector/otel-collector-traces/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-battlebotspr-previewpr-153research_and_developmentanalysisobservabilityotel-collectorotel-collector-traces><span>OpenTelemetry Collector: Traces Support</span></a></li></ul></li></ul></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-battlebotspr-previewpr-153research_and_developmentadrs-li><a href=/battlebots/pr-preview/pr-153/research_and_development/adrs/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-battlebotspr-previewpr-153research_and_developmentadrs><span>Architecture Decision Records</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-battlebotspr-previewpr-153research_and_developmentadrs0001-use-madr-for-architecture-decision-records-li><a href=/battlebots/pr-preview/pr-153/research_and_development/adrs/0001-use-madr-for-architecture-decision-records/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-battlebotspr-previewpr-153research_and_developmentadrs0001-use-madr-for-architecture-decision-records><span>[0001] Use MADR for Architecture Decision Records</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-battlebotspr-previewpr-153research_and_developmentadrs0002-observability-sdk-selection-li><a href=/battlebots/pr-preview/pr-153/research_and_development/adrs/0002-observability-sdk-selection/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-battlebotspr-previewpr-153research_and_developmentadrs0002-observability-sdk-selection><span>[0002] Observability SDK Selection</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-battlebotspr-previewpr-153research_and_developmentadrs0003-observability-stack-architecture-li><a href=/battlebots/pr-preview/pr-153/research_and_development/adrs/0003-observability-stack-architecture/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-battlebotspr-previewpr-153research_and_developmentadrs0003-observability-stack-architecture><span>[0003] Observability Stack Architecture</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-battlebotspr-previewpr-153research_and_developmentadrs0004-bot-battle-server-interface-li><a href=/battlebots/pr-preview/pr-153/research_and_development/adrs/0004-bot-battle-server-interface/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-battlebotspr-previewpr-153research_and_developmentadrs0004-bot-battle-server-interface><span>[0004] Bot to Battle Server Communication Protocol</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-battlebotspr-previewpr-153research_and_developmentadrs0005-1v1-battle-game-mechanics-li><a href=/battlebots/pr-preview/pr-153/research_and_development/adrs/0005-1v1-battle-game-mechanics/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-battlebotspr-previewpr-153research_and_developmentadrs0005-1v1-battle-game-mechanics><span>[0005] 1v1 Battle Game Mechanics</span></a></li></ul></li></ul></li></ul></li></ul></nav></div></aside><aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none"><div class="td-page-meta ms-2 pb-1 pt-2 mb-0"><a href=https://github.com/z5labs/battlebots/tree/main/content/research_and_development/analysis/observability/traces/tempo/tempo-overview.md class="td-page-meta--view td-page-meta__view" target=_blank rel=noopener><i class="fa-solid fa-file-lines fa-fw"></i> View page source</a>
<a href=https://github.com/z5labs/battlebots/edit/main/content/research_and_development/analysis/observability/traces/tempo/tempo-overview.md class="td-page-meta--edit td-page-meta__edit" target=_blank rel=noopener><i class="fa-solid fa-pen-to-square fa-fw"></i> Edit this page</a>
<a href="https://github.com/z5labs/battlebots/new/main/content/research_and_development/analysis/observability/traces/tempo?filename=change-me.md&amp;value=---%0Atitle%3A+%22Long+Page+Title%22%0AlinkTitle%3A+%22Short+Nav+Title%22%0Aweight%3A+100%0Adescription%3A+%3E-%0A+++++Page+description+for+heading+and+indexes.%0A---%0A%0A%23%23+Heading%0A%0AEdit+this+template+to+create+your+new+page.%0A%0A%2A+Give+it+a+good+name%2C+ending+in+%60.md%60+-+e.g.+%60getting-started.md%60%0A%2A+Edit+the+%22front+matter%22+section+at+the+top+of+the+page+%28weight+controls+how+its+ordered+amongst+other+pages+in+the+same+directory%3B+lowest+number+first%29.%0A%2A+Add+a+good+commit+message+at+the+bottom+of+the+page+%28%3C80+characters%3B+use+the+extended+description+field+for+more+detail%29.%0A%2A+Create+a+new+branch+so+you+can+preview+your+new+file+and+request+a+review+via+Pull+Request.%0A" class="td-page-meta--child td-page-meta__child" target=_blank rel=noopener><i class="fa-solid fa-pen-to-square fa-fw"></i> Create child page</a>
<a href="https://github.com/z5labs/battlebots/issues/new?title=Tempo:%20Overview" class="td-page-meta--issue td-page-meta__issue" target=_blank rel=noopener><i class="fa-solid fa-list-check fa-fw"></i> Create documentation issue</a>
<a href=https://github.com/z5labs/battlebots/issues/new class="td-page-meta--project td-page-meta__project-issue" target=_blank rel=noopener><i class="fa-solid fa-list-check fa-fw"></i> Create project issue</a></div><div class=td-toc><nav id=TableOfContents><ul><li><a href=#overview>Overview</a></li><li><a href=#what-is-grafana-tempo>What is Grafana Tempo?</a></li><li><a href=#why-research-tempo>Why Research Tempo?</a><ul><li><a href=#cost-efficiency-at-scale>Cost Efficiency at Scale</a></li><li><a href=#operational-simplicity>Operational Simplicity</a></li><li><a href=#native-opentelemetry-integration>Native OpenTelemetry Integration</a></li><li><a href=#powerful-query-capabilities>Powerful Query Capabilities</a></li><li><a href=#unified-observability>Unified Observability</a></li><li><a href=#battle-specific-benefits>Battle-Specific Benefits</a></li></ul></li><li><a href=#key-concepts>Key Concepts</a><ul><li><a href=#traces-and-spans>Traces and Spans</a></li><li><a href=#trace-id-and-span-id>Trace ID and Span ID</a></li><li><a href=#blocks-storage>Blocks Storage</a></li><li><a href=#traceql-query-language>TraceQL Query Language</a></li><li><a href=#sampling-strategies>Sampling Strategies</a></li></ul></li><li><a href=#architecture-components>Architecture Components</a><ul><li><a href=#distributor>Distributor</a></li><li><a href=#ingester>Ingester</a></li><li><a href=#querier>Querier</a></li><li><a href=#query-frontend>Query Frontend</a></li><li><a href=#compactor>Compactor</a></li><li><a href=#metrics-generator-optional>Metrics-Generator (Optional)</a></li></ul></li><li><a href=#deployment-modes>Deployment Modes</a><ul><li><a href=#monolithic-mode>Monolithic Mode</a></li><li><a href=#scalable-single-binary-mode>Scalable Single Binary Mode</a></li><li><a href=#microservices-mode>Microservices Mode</a></li><li><a href=#deployment-mode-comparison>Deployment Mode Comparison</a></li></ul></li><li><a href=#how-to-run-tempo>How to Run Tempo</a><ul><li><a href=#quick-start-with-docker-compose>Quick Start with Docker Compose</a></li><li><a href=#configuration-breakdown>Configuration Breakdown</a></li><li><a href=#exposed-ports-and-their-purposes>Exposed Ports and Their Purposes</a></li><li><a href=#health-check-endpoints>Health Check Endpoints</a></li><li><a href=#troubleshooting-common-issues>Troubleshooting Common Issues</a></li><li><a href=#shutting-down>Shutting Down</a></li></ul></li><li><a href=#best-practices>Best Practices</a><ul><li><a href=#sampling-strategies-1>Sampling Strategies</a></li><li><a href=#storage-optimization>Storage Optimization</a></li><li><a href=#configuration-best-practices>Configuration Best Practices</a></li><li><a href=#performance-tuning>Performance Tuning</a></li><li><a href=#monitoring-tempo-itself>Monitoring Tempo Itself</a></li></ul></li><li><a href=#when-to-use-tempo>When to Use Tempo</a><ul><li><a href=#ideal-use-cases-for-tempo>Ideal Use Cases for Tempo</a></li><li><a href=#when-to-choose-tempo-vs-jaeger>When to Choose Tempo vs. Jaeger</a></li><li><a href=#when-to-choose-tempo-vs-zipkin>When to Choose Tempo vs. Zipkin</a></li><li><a href=#when-not-to-use-tempo>When NOT to Use Tempo</a></li></ul></li><li><a href=#battlebots-integration>BattleBots Integration</a><ul><li><a href=#battle-workflow-tracing>Battle Workflow Tracing</a></li><li><a href=#traceql-queries-for-battlebots>TraceQL Queries for BattleBots</a></li><li><a href=#unified-observability-workflows>Unified Observability Workflows</a></li><li><a href=#integration-with-loki-and-mimir>Integration with Loki and Mimir</a></li></ul></li><li><a href=#further-reading>Further Reading</a><ul><li><a href=#official-documentation>Official Documentation</a></li><li><a href=#deployment-and-operations>Deployment and Operations</a></li><li><a href=#traceql-and-querying>TraceQL and Querying</a></li><li><a href=#integration-guides>Integration Guides</a></li><li><a href=#comparisons-and-alternatives>Comparisons and Alternatives</a></li><li><a href=#community-resources>Community Resources</a></li><li><a href=#related-battlebots-documentation>Related BattleBots Documentation</a></li></ul></li></ul></nav></div></aside><main class="col-12 col-md-9 col-xl-8 ps-md-5" role=main><nav aria-label=breadcrumb class=td-breadcrumbs><ol class=breadcrumb><li class=breadcrumb-item><a href=/battlebots/pr-preview/pr-153/research_and_development/>Research & Design</a></li><li class=breadcrumb-item><a href=/battlebots/pr-preview/pr-153/research_and_development/analysis/>Analysis</a></li><li class=breadcrumb-item><a href=/battlebots/pr-preview/pr-153/research_and_development/analysis/observability/>Observability Analysis</a></li><li class=breadcrumb-item><a href=/battlebots/pr-preview/pr-153/research_and_development/analysis/observability/traces/tempo/>Grafana Tempo</a></li><li class="breadcrumb-item active" aria-current=page>Tempo: Overview</li></ol></nav><div class=td-content><h1>Tempo: Overview</h1><div class=lead>Comprehensive overview of Grafana Tempo distributed tracing backend, covering architecture, deployment modes, and operational best practices.</div><header class=article-meta></header><h2 id=overview>Overview</h2><p>Grafana Tempo is a high-volume, minimal dependency distributed tracing backend designed for cost-efficiency and operational simplicity. Unlike traditional distributed tracing systems that require complex database infrastructure like Cassandra or Elasticsearch, Tempo leverages object storage as its only dependency, dramatically reducing operational complexity while providing powerful trace querying capabilities through TraceQL.</p><p>The core innovation of Tempo is its index-free, object storage-first architecture: traces are stored as immutable blocks in cost-effective object storage (S3, GCS, Azure, MinIO) without requiring expensive indexing infrastructure. While this trades off some search flexibility compared to fully-indexed systems like Jaeger, it enables storing 100% of traces at a fraction of the cost. TraceQL, Tempo&rsquo;s SQL-like query language, provides sophisticated trace analysis capabilities including filtering by span attributes, duration thresholds, and span relationships.</p><p>Tempo integrates seamlessly with the Grafana observability stack, enabling powerful trace-to-metrics correlation through exemplars and trace-to-logs correlation through shared trace IDs. Combined with Loki (logs) and Mimir (metrics), Tempo completes the LGTM stack for unified observability.</p><h2 id=what-is-grafana-tempo>What is Grafana Tempo?</h2><p>Grafana Tempo is an open-source distributed tracing backend that fundamentally changes the economics and operational model of trace storage at scale. Launched by Grafana Labs, Tempo addresses the primary pain points of traditional tracing systems: expensive storage infrastructure, complex database management, and prohibitive costs that force aggressive sampling.</p><p><strong>Design Philosophy:</strong></p><ul><li><strong>Cost-Efficient</strong>: Object storage costs 90% less than Cassandra or Elasticsearch for trace storage</li><li><strong>Minimal Dependencies</strong>: Only requires object storage—no databases, no indexes, no complex infrastructure</li><li><strong>Standards-Based</strong>: Native OpenTelemetry Protocol (OTLP) support with full compatibility for Jaeger and Zipkin formats</li><li><strong>High Scale with Simplicity</strong>: Handle millions of spans per second while maintaining operational simplicity</li><li><strong>Deep Integration</strong>: Seamless correlation with Grafana, Loki, Mimir, and Prometheus</li></ul><p><strong>Key Characteristics:</strong></p><ol><li><strong>Index-Free Architecture</strong>: Primary lookup method is by trace ID; advanced queries use TraceQL with on-demand scanning</li><li><strong>Blocks Storage Model</strong>: Traces stored in columnar Apache Parquet format optimized for fast scanning (300 GB/s search speed)</li><li><strong>Query Language</strong>: TraceQL provides SQL-like syntax for powerful trace analysis</li><li><strong>Multi-Protocol Ingestion</strong>: Accepts OTLP, Jaeger, Zipkin, and OpenCensus protocols</li><li><strong>Multi-Tenancy</strong>: Native support for isolated tenant data with per-tenant limits and retention</li></ol><p><strong>Problem It Solves:</strong></p><p>Traditional tracing backends (Jaeger, Zipkin) require expensive, complex database infrastructure that:</p><ul><li>Incurs high storage costs (forcing aggressive sampling to 1-10% of traces)</li><li>Requires skilled operators to manage Cassandra or Elasticsearch clusters</li><li>Creates operational overhead for database tuning, backups, and scaling</li><li>Limits retention to days or weeks due to cost constraints</li></ul><p>Tempo eliminates these issues by leveraging cheap object storage and an index-free design, enabling teams to store 100% of traces for weeks or months at a fraction of the cost, with minimal operational burden.</p><h2 id=why-research-tempo>Why Research Tempo?</h2><p>For the BattleBots platform&rsquo;s observability stack, Tempo offers several strategic advantages:</p><h3 id=cost-efficiency-at-scale>Cost Efficiency at Scale</h3><ul><li><strong>10x Storage Cost Reduction</strong>: Object storage costs $0.023/GB/month (S3) vs. $0.10-0.30/GB/month for databases</li><li><strong>Store 100% of Traces</strong>: No sampling required—capture every battle, every bot action, every error</li><li><strong>Long-Term Retention</strong>: Affordable retention for 30+ days enables historical analysis and debugging</li></ul><h3 id=operational-simplicity>Operational Simplicity</h3><ul><li><strong>No Database Management</strong>: No Cassandra tuning, no Elasticsearch cluster management</li><li><strong>Minimal Infrastructure</strong>: Deploy Tempo components + object storage (which you likely already have)</li><li><strong>Simple Scaling</strong>: Add more distributors/ingesters/queriers independently as needed</li></ul><h3 id=native-opentelemetry-integration>Native OpenTelemetry Integration</h3><ul><li><strong>OTLP First-Class Protocol</strong>: Native OTLP/gRPC (port 4317) and OTLP/HTTP (port 4318) support since v1.3.0</li><li><strong>Zero Translation Overhead</strong>: Direct ingestion without protocol conversion</li><li><strong>Future-Proof</strong>: Built on CNCF standard used by entire industry</li></ul><h3 id=powerful-query-capabilities>Powerful Query Capabilities</h3><ul><li><strong>TraceQL</strong>: SQL-like query language for filtering by span attributes, duration, status, and relationships</li><li><strong>Structural Queries</strong>: Find traces with specific span patterns (e.g., &ldquo;database call > 100ms following API call&rdquo;)</li><li><strong>Aggregations</strong>: Generate metrics from traces (span counts, duration distributions)</li></ul><h3 id=unified-observability>Unified Observability</h3><ul><li><strong>Trace-to-Metrics</strong>: Exemplars link metric spikes to example slow traces</li><li><strong>Trace-to-Logs</strong>: Shared trace ID enables jumping from trace span to correlated log lines</li><li><strong>Grafana Ecosystem</strong>: Native integration with Loki, Mimir, Prometheus, and Grafana</li></ul><h3 id=battle-specific-benefits>Battle-Specific Benefits</h3><ul><li><strong>Debug Complete Battles</strong>: Trace entire battle workflow from matchmaking → execution → results persistence</li><li><strong>Bot Performance Analysis</strong>: Analyze every bot action&rsquo;s latency and success/failure patterns</li><li><strong>Error Investigation</strong>: Capture 100% of failed actions without worrying about sampling missing critical traces</li><li><strong>Historical Analysis</strong>: Compare bot performance across battles over weeks or months</li></ul><h2 id=key-concepts>Key Concepts</h2><p>Understanding Tempo&rsquo;s data model and terminology is essential for effective deployment and usage.</p><h3 id=traces-and-spans>Traces and Spans</h3><p>A <strong>trace</strong> represents the full journey of one request or transaction across distributed services, while a <strong>span</strong> is a timed unit of work within that journey.</p><p><strong>Trace structure:</strong></p><ul><li>Traces consist of one or more spans organized in a tree/hierarchy</li><li>Each span represents an operation with a start time and duration</li><li>Spans have parent-child relationships forming the call graph</li><li>The root span represents the initial request entry point</li><li>Spans can have events (annotations at specific timestamps) and links (references to spans in other traces)</li></ul><p><strong>Example BattleBots trace:</strong></p><pre tabindex=0><code>Trace: Battle Execution (trace_id: abc123)
├─ Root Span: ProcessBattleAction (100ms)
   ├─ Child Span: ValidateAction (10ms)
   ├─ Child Span: UpdateGameState (30ms)
   │  └─ Child Span: PersistState (database) (20ms)
   └─ Child Span: BroadcastUpdate (WebSocket) (15ms)
</code></pre><p><strong>Span characteristics:</strong></p><ul><li><strong>Name</strong>: Describes the operation (e.g., &ldquo;GET /api/battles&rdquo;, &ldquo;ProcessBotAction&rdquo;, &ldquo;database.query&rdquo;)</li><li><strong>Start time and duration</strong>: Nanosecond precision timing information</li><li><strong>Status</strong>: Success (ok), error, or unset</li><li><strong>Span kind</strong>: Client, server, internal, producer, or consumer</li><li><strong>Attributes</strong>: Key-value metadata (e.g., <code>http.method=GET</code>, <code>bot.id=bot123</code>, <code>action.type=attack</code>)</li><li><strong>Events</strong>: Timestamped annotations (e.g., exceptions, state changes, cache hits)</li><li><strong>Links</strong>: References to causally-related spans in different traces</li></ul><h3 id=trace-id-and-span-id>Trace ID and Span ID</h3><p><strong>Trace ID</strong></p><ul><li>Unique identifier for the entire trace (128-bit or 64-bit hex string)</li><li>Follows the trace through all services and operations</li><li>Used as the primary key for trace retrieval in Tempo</li><li>Example: <code>4bf92f3577b34da6a3ce929d0e0e4736</code></li></ul><p><strong>Span ID</strong></p><ul><li>Unique identifier for an individual span within a trace (64-bit hex string)</li><li>Used to reconstruct parent-child relationships</li><li>Combined with trace ID for precise span references</li><li>Example: <code>00f067aa0ba902b7</code></li></ul><p><strong>Parent Span ID</strong></p><ul><li>References the span ID of the parent span</li><li>Enables reconstruction of the trace tree structure</li><li>Root spans have no parent span ID</li></ul><h3 id=blocks-storage>Blocks Storage</h3><p><strong>Blocks</strong> are immutable units of trace data stored in object storage, representing Tempo&rsquo;s fundamental persistence mechanism.</p><p><strong>Block characteristics:</strong></p><ul><li><strong>Format</strong>: Apache Parquet columnar storage (vParquet4 as of Tempo 2.5+)</li><li><strong>Immutability</strong>: Once written, blocks are never modified (only compacted/deleted)</li><li><strong>Time-based</strong>: Blocks typically represent traces from a specific time window</li><li><strong>Columnar</strong>: Span attributes stored in columns for efficient filtering</li><li><strong>Compressed</strong>: Parquet provides excellent compression ratios</li></ul><p><strong>Block lifecycle:</strong></p><ol><li><strong>Creation</strong>: Ingesters accumulate spans in memory over configured time period (default 30-60 minutes)</li><li><strong>Flushing</strong>: Ingester writes complete block to object storage with bloom filters and indexes</li><li><strong>Querying</strong>: Queriers read blocks, using bloom filters to skip irrelevant blocks</li><li><strong>Compaction</strong>: Compactor merges small blocks into larger ones for query efficiency</li><li><strong>Expiration</strong>: Compactor deletes blocks older than retention period</li></ol><p><strong>Performance:</strong></p><ul><li>Previous block format: ~40-50 GB/s search speed</li><li>Parquet format (vParquet4): ~300 GB/s search speed (6x improvement)</li><li>Bloom filters enable skipping 99%+ of irrelevant blocks</li></ul><h3 id=traceql-query-language>TraceQL Query Language</h3><p><strong>TraceQL</strong> is Tempo&rsquo;s powerful SQL-like query language for selecting, filtering, and analyzing distributed traces.</p><p><strong>Design characteristics:</strong></p><ul><li><strong>Structure-aware</strong>: Understands trace architecture (root spans, parent-child relationships)</li><li><strong>Attribute-focused</strong>: Query by span attributes, resource attributes, and intrinsics</li><li><strong>Familiar syntax</strong>: Borrows concepts from PromQL and LogQL for consistency</li><li><strong>Aggregation support</strong>: Generate metrics from traces (counts, averages, histograms)</li></ul><p><strong>Query structure:</strong></p><pre tabindex=0><code class=language-traceql data-lang=traceql>{ &lt;span-selector&gt; } | &lt;pipeline-operations&gt;
</code></pre><p><strong>Attribute scopes:</strong></p><ul><li><code>span.*</code>: Span-level attributes (e.g., <code>span.http.method</code>, <code>span.db.statement</code>)</li><li><code>resource.*</code>: Resource-level attributes (e.g., <code>resource.service.name</code>, <code>resource.host.name</code>)</li><li><code>event.*</code>: Event attributes</li><li><code>link.*</code>: Link attributes to related spans</li></ul><p><strong>Intrinsics (built-in span properties):</strong></p><ul><li><code>name</code>: Span name</li><li><code>duration</code>: Span duration in nanoseconds</li><li><code>status</code>: Span status (ok, error, unset)</li><li><code>kind</code>: Span kind (client, server, internal, producer, consumer)</li></ul><p><strong>Example TraceQL queries:</strong></p><pre tabindex=0><code class=language-traceql data-lang=traceql># Find all traces with HTTP GET requests
{ span.http.method = &#34;GET&#34; }

# Find slow database queries (&gt; 1 second)
{ span.db.statement =~ &#34;SELECT.*&#34; &amp;&amp; duration &gt; 1s }

# Find errors in specific service
{ resource.service.name = &#34;game-server&#34; &amp;&amp; status = error }

# Complex: API calls that resulted in slow database queries
{ span.http.route = &#34;/api/battles&#34; } &gt;&gt; { span.db.statement != nil &amp;&amp; duration &gt; 100ms }

# Aggregate: Count traces by service
{ } | by(resource.service.name) | count() &gt; 10

# BattleBots: Find all battles where bot actions took &gt; 500ms
{ resource.service.name = &#34;game-server&#34; &amp;&amp; span.action.type = &#34;bot_move&#34; &amp;&amp; duration &gt; 500ms }
</code></pre><p><strong>Query execution:</strong>
Tempo evaluates TraceQL queries by:</p><ol><li>Identifying relevant blocks using time range and bloom filters</li><li>Scanning blocks in parallel using columnar Parquet format</li><li>Applying span selectors and filters</li><li>Executing pipeline operations (aggregations, grouping)</li><li>Returning matching traces or aggregated results</li></ol><h3 id=sampling-strategies>Sampling Strategies</h3><p><strong>Sampling</strong> controls which traces are retained for analysis, balancing observability value with storage costs and performance impact.</p><p><strong>Head-Based Sampling</strong></p><ul><li><strong>Decision point</strong>: Made at trace creation time, before seeing complete trace</li><li><strong>Characteristics</strong>: Low latency, minimal overhead, consistent across services</li><li><strong>Use cases</strong>: Baseline traffic reduction, predictable sampling rates</li><li><strong>Limitation</strong>: Cannot make decisions based on trace outcome (errors, latency)</li></ul><p><strong>Tail-Based Sampling</strong></p><ul><li><strong>Decision point</strong>: Made after seeing all/most spans in a trace</li><li><strong>Characteristics</strong>: Intelligent decisions based on complete trace data, higher overhead</li><li><strong>Policies</strong>: Always sample errors, sample slow traces (latency threshold), probabilistic, rate limiting</li><li><strong>Requirement</strong>: Multi-tier collector deployment (agent → tail sampling gateway)</li><li><strong>Use cases</strong>: Capture 100% of errors while sampling successful traces</li></ul><p><strong>Adaptive Sampling</strong></p><ul><li><strong>TraceQL support</strong>: <code>with(sample=true)</code> automatically determines optimal strategy</li><li><strong>Fixed span sampling</strong>: <code>with(span_sample=0.10)</code> selects 10% of spans</li><li><strong>Fixed trace sampling</strong>: <code>with(trace_sample=0.10)</code> selects complete traces</li></ul><p><strong>Recommendation for BattleBots:</strong></p><ol><li><strong>Development</strong>: 100% sampling (no sampling)</li><li><strong>Production</strong>: Tail-based sampling with policies:<ul><li>Always sample traces with <code>status = error</code></li><li>Always sample traces with duration > 2 seconds</li><li>Sample 10-20% of successful, fast traces</li><li>Always sample traces with <code>span.action.type = "bot_death"</code> (critical game events)</li></ul></li></ol><h2 id=architecture-components>Architecture Components</h2><p>Tempo uses a microservices architecture where each component can be scaled independently or combined into larger deployment targets. The architecture is inspired by Grafana Loki and optimized for object storage.</p><pre class=mermaid>graph TB
    subgraph &#34;Instrumented Applications&#34;
        APP1[&#34;Game Server&lt;br/&gt;(OTel Instrumented)&#34;]
        APP2[&#34;Matchmaking Service&lt;br/&gt;(OTel Instrumented)&#34;]
        APP3[&#34;Bot Runtime&lt;br/&gt;(OTel Instrumented)&#34;]
    end

    subgraph &#34;Ingestion Path&#34;
        COLL[&#34;OpenTelemetry Collector&lt;br/&gt;(Protocol Conversion)&#34;]
        DIST[&#34;Distributor&lt;br/&gt;(Load Balancing &amp; Sharding)&#34;]
    end

    subgraph &#34;Write Path&#34;
        ING1[&#34;Ingester 1&#34;]
        ING2[&#34;Ingester 2&#34;]
        ING3[&#34;Ingester 3&#34;]
        BLOOM[&#34;Bloom Filters&lt;br/&gt;&amp; Indexes&#34;]
    end

    subgraph &#34;Object Storage&#34;
        S3[&#34;S3 / GCS / Azure / MinIO&#34;]
        BLOCKS[&#34;Parquet Blocks&lt;br/&gt;(vParquet4)&#34;]
    end

    subgraph &#34;Maintenance&#34;
        COMPACT[&#34;Compactor&lt;br/&gt;(Block Merging,&lt;br/&gt;Retention)&#34;]
        METRICS[&#34;Metrics-Generator&lt;br/&gt;(Optional)&#34;]
    end

    subgraph &#34;Read Path&#34;
        QFRONT[&#34;Query Frontend&lt;br/&gt;(Query Optimization)&#34;]
        Q1[&#34;Querier 1&#34;]
        Q2[&#34;Querier 2&#34;]
        Q3[&#34;Querier 3&#34;]
    end

    subgraph &#34;Query Interface&#34;
        TRACEQL[&#34;TraceQL Engine&#34;]
        GRAFANA[&#34;Grafana UI&#34;]
    end

    APP1 --&gt;|&#34;Traces (OTLP)&#34;| COLL
    APP2 --&gt;|&#34;Traces (OTLP)&#34;| COLL
    APP3 --&gt;|&#34;Traces (OTLP)&#34;| COLL

    COLL --&gt;|&#34;OTLP/Jaeger/Zipkin&#34;| DIST

    DIST --&gt;|&#34;Hash(Trace ID)&#34;| ING1
    DIST --&gt;|&#34;Hash(Trace ID)&#34;| ING2
    DIST --&gt;|&#34;Hash(Trace ID)&#34;| ING3

    ING1 &amp; ING2 &amp; ING3 --&gt; BLOOM
    BLOOM --&gt; BLOCKS
    BLOCKS --&gt; S3

    COMPACT -.-&gt;|&#34;Merge &amp; Optimize&#34;| BLOCKS
    ING1 &amp; ING2 &amp; ING3 -.-&gt;|&#34;Span Metrics&#34;| METRICS

    GRAFANA --&gt;|&#34;TraceQL / Trace ID&#34;| QFRONT
    QFRONT --&gt; Q1 &amp; Q2 &amp; Q3

    Q1 &amp; Q2 &amp; Q3 --&gt;|&#34;Recent Data&#34;| ING1 &amp; ING2 &amp; ING3
    Q1 &amp; Q2 &amp; Q3 --&gt;|&#34;Bloom &#43; Block Read&#34;| BLOCKS

    Q1 &amp; Q2 &amp; Q3 --&gt; TRACEQL
    TRACEQL --&gt; GRAFANA

    METRICS -.-&gt;|&#34;Service Graphs&#34;| GRAFANA

    style DIST fill:#fff4e6
    style ING1 fill:#fff4e6
    style ING2 fill:#fff4e6
    style ING3 fill:#fff4e6
    style QFRONT fill:#e1f5ff
    style Q1 fill:#e1f5ff
    style Q2 fill:#e1f5ff
    style Q3 fill:#e1f5ff
    style COMPACT fill:#f3e5f5
    style METRICS fill:#e8f5e9
    style S3 fill:#fce4ec</pre><h3 id=distributor>Distributor</h3><p>The <strong>distributor</strong> is the entry point for all incoming span data, receiving traces in multiple formats and routing them to ingesters.</p><p><strong>Responsibilities:</strong></p><ul><li>Accept spans in multiple protocols: OTLP (gRPC/HTTP), Jaeger (gRPC/Thrift), Zipkin, OpenCensus</li><li>Validate incoming span data for correctness and completeness</li><li>Apply rate limiting per tenant (if multi-tenancy enabled)</li><li>Hash spans by trace ID to determine target ingesters</li><li>Route spans to ingesters using consistent hashing on trace ID</li><li>Load balance across available ingesters</li></ul><p><strong>Key characteristics:</strong></p><ul><li>Stateless component (can be horizontally scaled easily)</li><li>Uses OpenTelemetry Collector&rsquo;s receiver layer for protocol handling</li><li>Leverages distributed consistent hash ring for sharding</li><li>All spans for a given trace ID route to the same ingester set</li></ul><p><strong>Configuration considerations:</strong></p><ul><li>Enable only the receivers you need (OTLP recommended, disable unused protocols)</li><li>Configure appropriate rate limits per tenant</li><li>Set batch sizes to balance latency vs. throughput</li><li>Enable gRPC compression (snappy) for bandwidth efficiency</li></ul><h3 id=ingester>Ingester</h3><p>The <strong>ingester</strong> indexes and batches span data for efficient storage, creating the immutable blocks that form Tempo&rsquo;s storage layer.</p><p><strong>Responsibilities:</strong></p><ul><li>Receive spans from distributors (sharded by trace ID)</li><li>Buffer spans in memory, organizing by trace ID</li><li>Generate bloom filters and indexes for fast retrieval</li><li>Batch spans into blocks based on time or size thresholds</li><li>Write complete blocks to object storage (S3, GCS, Azure, MinIO)</li><li>Serve recent, not-yet-persisted trace data to queriers (for real-time queries)</li><li>Maintain Write-Ahead Log (WAL) for crash recovery</li></ul><p><strong>Block creation process:</strong></p><ol><li>Accumulate spans in memory for configured duration (default 30-60 min)</li><li>Partition span data into Apache Parquet columnar schema</li><li>Generate bloom filters for efficient trace ID lookups</li><li>Compress data using Parquet compression</li><li>Write immutable block to object storage</li><li>Update internal metadata for recent blocks</li></ol><p><strong>Key characteristics:</strong></p><ul><li>Stateful component (requires careful scaling and shutdown)</li><li>Uses consistent hashing with replication (default RF=3 for durability)</li><li>Memory usage scales with trace volume and <code>max_block_duration</code></li><li>WAL ensures data durability during crashes</li></ul><p><strong>Configuration considerations:</strong></p><ul><li><code>max_block_duration</code>: 30-60 minutes optimal (balance memory vs. block count)</li><li><code>max_block_bytes</code>: Default 100GB (prevents excessive block sizes)</li><li><code>trace_idle_period</code>: How long to wait before flushing a trace (default 10s)</li><li>Replication factor: RF=3 recommended for production</li></ul><h3 id=querier>Querier</h3><p>The <strong>querier</strong> executes trace searches and retrievals, scanning object storage blocks and querying ingesters for recent data.</p><p><strong>Responsibilities:</strong></p><ul><li>Execute trace ID lookups (primary query method)</li><li>Execute TraceQL queries across blocks</li><li>Read bloom filters and indexes from object storage</li><li>Skip irrelevant blocks using bloom filter checks</li><li>Scan relevant blocks in parallel using Parquet columnar format</li><li>Query ingesters for recent, not-yet-persisted traces</li><li>Merge results from multiple sources (ingesters + blocks)</li><li>Return matching spans to Query Frontend</li></ul><p><strong>Query execution:</strong></p><ol><li>Receive query from Query Frontend</li><li>Determine time range and relevant blocks</li><li>Check bloom filters to skip blocks without matching trace IDs</li><li>Read relevant blocks from object storage in parallel</li><li>Query ingesters for recent data</li><li>Apply TraceQL filters and aggregations</li><li>Return results</li></ol><p><strong>Key characteristics:</strong></p><ul><li>Stateless component (horizontally scalable)</li><li>Query performance depends on block count, trace size, and time range</li><li>Uses caching to improve repeated query performance</li></ul><p><strong>Configuration considerations:</strong></p><ul><li>Scale based on query concurrency and complexity</li><li>Configure appropriate CPU/memory for parallel block scanning</li><li>Enable query result caching</li></ul><h3 id=query-frontend>Query Frontend</h3><p>The <strong>query Frontend</strong> optimizes and coordinates incoming trace queries, sharding large queries across multiple queriers in parallel.</p><p><strong>Responsibilities:</strong></p><ul><li>Act as the interface between Grafana and the tracing backend</li><li>Split large time-range queries into smaller sub-queries (query sharding)</li><li>Distribute sub-queries across multiple queriers in parallel</li><li>Aggregate and concatenate results from queriers</li><li>Manage query queuing to prevent querier overload</li><li>Cache query results to improve performance</li></ul><p><strong>Key characteristics:</strong></p><ul><li>Stateless component (horizontally scalable)</li><li>Significantly improves query performance for large time ranges</li><li>Required for high availability (minimum 2 replicas recommended)</li></ul><p><strong>Configuration considerations:</strong></p><ul><li>Deploy at least 2 replicas for HA</li><li>Configure query sharding parameters based on trace volume</li><li>Enable query result caching</li></ul><h3 id=compactor>Compactor</h3><p>The <strong>compactor</strong> maintains and optimizes stored blocks, running on scheduled intervals to compress and deduplicate data.</p><p><strong>Responsibilities:</strong></p><ul><li>Merge small blocks into larger blocks (reduces block count by ~90%)</li><li>Deduplicate spans from replicated writes (RF=3 creates duplicates)</li><li>Apply retention policies by deleting blocks older than configured retention</li><li>Optimize bloom filters for merged blocks</li><li>Update block metadata</li></ul><p><strong>Compaction process:</strong></p><ol><li>List all blocks in object storage for a given time window</li><li>Download blocks to be compacted</li><li>Merge and deduplicate spans</li><li>Generate new, larger block with optimized bloom filters</li><li>Upload merged block to object storage</li><li>Delete source blocks</li></ol><p><strong>Key characteristics:</strong></p><ul><li>I/O-bound component (minimal CPU requirements)</li><li>Only one compactor should run per tenant (to avoid conflicts)</li><li>Critical for long-term storage efficiency and query performance</li></ul><p><strong>Configuration considerations:</strong></p><ul><li><code>block_retention</code>: 30 days default (configurable per tenant)</li><li><code>compacted_block_retention</code>: 0-1 hour (how long to keep source blocks after compaction)</li><li>Schedule compaction during low-traffic periods if possible</li></ul><h3 id=metrics-generator-optional>Metrics-Generator (Optional)</h3><p>The <strong>metrics-generator</strong> derives metrics from ingested traces, enabling span metrics and service graphs.</p><p><strong>Responsibilities:</strong></p><ul><li>Analyze incoming span data</li><li>Extract span metrics (request rates, error rates, latencies by service)</li><li>Generate service graph metrics (call relationships between services)</li><li>Write derived metrics to metrics storage (Prometheus, Mimir)</li><li>Enable trace-to-metrics correlation through exemplars</li></ul><p><strong>Generated metrics:</strong></p><ul><li><strong>Span metrics</strong>: <code>traces_spanmetrics_calls_total</code>, <code>traces_spanmetrics_latency_bucket</code></li><li><strong>Service graph metrics</strong>: Request rate, error rate, latency between service pairs</li></ul><p><strong>Key characteristics:</strong></p><ul><li>Optional component (not required for core tracing functionality)</li><li>Enables powerful trace-to-metrics workflows in Grafana</li><li>Adds memory overhead to ingesters</li></ul><p><strong>Configuration considerations:</strong></p><ul><li>Configure remote write endpoint (Prometheus, Mimir)</li><li>Set histogram buckets for latency metrics</li><li>Enable exemplar support for trace correlation</li></ul><h2 id=deployment-modes>Deployment Modes</h2><p>Tempo supports three deployment modes, each balancing simplicity against scalability and operational flexibility. The architecture is similar to Loki&rsquo;s deployment model.</p><h3 id=monolithic-mode>Monolithic Mode</h3><p>In <strong>monolithic mode</strong>, all Tempo components run in a single process. This is the simplest deployment option, ideal for POC, development, and small-scale production.</p><p><strong>Configuration:</strong></p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>tempo -target<span style=color:#ce5c00;font-weight:700>=</span>all -config.file<span style=color:#ce5c00;font-weight:700>=</span>tempo.yaml
</span></span></code></pre></div><p><strong>Characteristics:</strong></p><ul><li>Single binary or container runs all components</li><li>All components share memory and resources</li><li>Minimal operational complexity</li><li>Limited horizontal scalability (vertical scaling only)</li><li>Suitable for development and small deployments</li></ul><p><strong>When to use:</strong></p><ul><li>Development and testing environments</li><li>Proof-of-concept deployments</li><li>Small-scale production (&lt; 1,000 traces/second)</li><li>Single-server or minimal infrastructure deployments</li></ul><p><strong>Resource requirements:</strong></p><ul><li>2-4 CPU cores</li><li>4-8GB RAM</li><li>Local SSD for fast block storage (50GB+)</li><li>Object storage access (S3, GCS, MinIO, or local filesystem)</li></ul><p><strong>Limitations:</strong></p><ul><li>Cannot scale components independently</li><li>Single point of failure</li><li>Resource contention between components (ingesters and queriers compete for CPU/memory)</li><li>Not recommended for Kubernetes production deployments</li></ul><p><strong>Recommended for BattleBots POC:</strong> This mode is perfect for initial evaluation and development.</p><h3 id=scalable-single-binary-mode>Scalable Single Binary Mode</h3><p><strong>Scalable single binary mode</strong> (or &ldquo;scalable mode&rdquo;) runs all components within one process, but multiple instances can be deployed with read-write separation, providing horizontal scalability.</p><p><strong>Configuration:</strong></p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Set target for each instance</span>
</span></span><span style=display:flex><span>tempo -target<span style=color:#ce5c00;font-weight:700>=</span>scalable-single-binary -config.file<span style=color:#ce5c00;font-weight:700>=</span>tempo.yaml
</span></span></code></pre></div><p><strong>Characteristics:</strong></p><ul><li>Components act as if in distributed setup but packaged as single binary</li><li>Multiple instances deployed for redundancy and scale</li><li>Read and write paths can be scaled independently</li><li>Balanced approach between monolithic simplicity and microservices scalability</li><li>Suitable for small-to-medium volume traces (10K-100K+ traces/second)</li></ul><p><strong>When to use:</strong></p><ul><li>Medium-scale production deployments</li><li>Transitioning from monolithic to highly available setup</li><li>Kubernetes environments using Helm charts</li><li>Teams wanting operational simplicity with growth capacity</li></ul><p><strong>Resource requirements:</strong></p><ul><li>4 CPU cores, 8-12GB memory per instance</li><li>3-5 instances typical</li><li>Shared object storage (S3, GCS, etc.)</li><li>Typical throughput: 10K-50K traces/second</li></ul><p><strong>Benefits:</strong></p><ul><li>Horizontal scalability without full microservices complexity</li><li>Reduced operational burden vs. microservices</li><li>Suitable for Kubernetes deployments</li><li>Components benefit from distributed hash ring</li></ul><p><strong>Limitations:</strong></p><ul><li>Less robust than fully distributed deployment</li><li>Still some resource contention within single process</li><li>Cannot optimize per-component scaling</li></ul><p><strong>Recommended for BattleBots production:</strong> This mode is ideal for initial production deployment, providing scalability and HA without excessive complexity.</p><h3 id=microservices-mode>Microservices Mode</h3><p><strong>Microservices mode</strong> runs each Tempo component as a separate deployment with independent replicas, providing maximum flexibility and scale.</p><p><strong>Components deployed separately:</strong></p><ul><li>Distributor (multiple instances, stateless)</li><li>Ingester (multiple instances, stateful)</li><li>Querier (multiple instances, stateless)</li><li>Query Frontend (multiple instances, stateless)</li><li>Compactor (single instance per tenant)</li><li>Metrics-Generator (optional, multiple instances)</li></ul><p><strong>Characteristics:</strong></p><ul><li>Each component scaled independently based on workload</li><li>Fine-grained resource allocation per component</li><li>Granular failure domains (one component failure doesn&rsquo;t affect others)</li><li>Most complex to deploy and maintain</li><li>Supports enterprise-scale deployments (multi-million traces/second)</li></ul><p><strong>When to use:</strong></p><ul><li>Production environments with high-availability requirements</li><li>Large-scale trace volumes (100K+ traces/second)</li><li>Multi-tenant deployments</li><li>Organizations with dedicated observability operations teams</li><li>Need for independent component scaling (e.g., scale queriers independently during high query load)</li></ul><p><strong>Resource requirements (large deployment example):</strong></p><ul><li>Distributors: 4-8 instances (2 CPU, 2GB each)</li><li>Ingesters: 6-12 instances (2.5 CPU, 8-12GB each)</li><li>Queriers: 4-8 instances (2 CPU, 4-8GB each)</li><li>Query Frontend: 2 instances (1 CPU, 4GB each)</li><li>Compactor: 2-3 instances (1 CPU, 4GB each)</li><li>Typical throughput: 500K-2M+ traces/second</li></ul><p><strong>Benefits:</strong></p><ul><li>Fully horizontally scaled—each component has dedicated replicas</li><li>Data replication prevents catastrophic failures (RF=3)</li><li>Granular failure domains</li><li>Flexible, independent scaling per component</li><li>Can temporarily scale during traffic spikes with no adverse impact</li></ul><p><strong>Challenges:</strong></p><ul><li>Significantly increased operational complexity</li><li>More components to orchestrate, monitor, and maintain</li><li>Requires sophisticated orchestration (Kubernetes with Helm)</li><li>Network communication overhead between components</li><li>Higher total cost of ownership (TCO)</li></ul><p><strong>Not recommended for BattleBots initially:</strong> Start with scalable mode; migrate to microservices only if scale demands it.</p><h3 id=deployment-mode-comparison>Deployment Mode Comparison</h3><table><thead><tr><th>Aspect</th><th>Monolithic</th><th>Scalable Single Binary</th><th>Microservices</th></tr></thead><tbody><tr><td><strong>Best Use Case</strong></td><td>POC, dev, demos</td><td>Production (small-medium)</td><td>Production (large scale)</td></tr><tr><td><strong>Deployment Complexity</strong></td><td>Very Simple</td><td>Moderate</td><td>Complex</td></tr><tr><td><strong>Horizontal Scaling</strong></td><td>None</td><td>Instance-level</td><td>Per-component (flexible)</td></tr><tr><td><strong>Failure Isolation</strong></td><td>None (SPOF)</td><td>Basic (full process)</td><td>Excellent (per-component)</td></tr><tr><td><strong>Data Replication</strong></td><td>Not available</td><td>Limited</td><td>Full (RF=3)</td></tr><tr><td><strong>Operational Overhead</strong></td><td>Minimal</td><td>Moderate</td><td>High</td></tr><tr><td><strong>Resource Efficiency</strong></td><td>High (no duplication)</td><td>Moderate</td><td>Lower (replication overhead)</td></tr><tr><td><strong>Configuration Complexity</strong></td><td>Minimal</td><td>Moderate</td><td>High</td></tr><tr><td><strong>Traces/Second Capacity</strong></td><td>&lt; 1K</td><td>10K-100K+</td><td>100K-2M+</td></tr><tr><td><strong>Recommended for Battle Bots</strong></td><td>POC/Dev</td><td>Production</td><td>Not initially</td></tr></tbody></table><h2 id=how-to-run-tempo>How to Run Tempo</h2><p>This section provides practical guidance for running Grafana Tempo, focusing on Docker Compose for POC and development environments.</p><h3 id=quick-start-with-docker-compose>Quick Start with Docker Compose</h3><p>The following Docker Compose setup includes Tempo, Grafana, Prometheus, and tools for generating and visualizing traces.</p><p><strong>Step 1: Create directory structure</strong></p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>mkdir tempo-poc <span style=color:#ce5c00;font-weight:700>&amp;&amp;</span> <span style=color:#204a87>cd</span> tempo-poc
</span></span><span style=display:flex><span>mkdir -p tempo-data
</span></span></code></pre></div><p><strong>Step 2: Create <code>tempo.yaml</code> configuration</strong></p><p>Create a file named <code>tempo.yaml</code>:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#204a87;font-weight:700>stream_over_http_enabled</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>true</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>server</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>http_listen_port</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>3200</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>grpc_listen_port</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>9095</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>log_level</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>info</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>distributor</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>log_received_spans</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>enabled</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>true</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>log_sampling_fraction</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>0.1</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>receivers</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>jaeger</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>protocols</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#204a87;font-weight:700>thrift_http</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>          </span><span style=color:#204a87;font-weight:700>endpoint</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;0.0.0.0:14268&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#204a87;font-weight:700>grpc</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>          </span><span style=color:#204a87;font-weight:700>endpoint</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;0.0.0.0:14250&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>zipkin</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>endpoint</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;0.0.0.0:9411&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>otlp</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>protocols</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#204a87;font-weight:700>grpc</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>          </span><span style=color:#204a87;font-weight:700>endpoint</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;0.0.0.0:4317&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#204a87;font-weight:700>http</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>          </span><span style=color:#204a87;font-weight:700>endpoint</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;0.0.0.0:4318&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>ingester</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>lifecycler</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>ring</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>replication_factor</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>kvstore</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#204a87;font-weight:700>store</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>inmemory</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>max_block_duration</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>5m</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>trace_idle_period</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>5s</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>compactor</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>compaction</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>block_retention</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>720h   </span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#8f5902;font-style:italic># 30 days</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>compacted_block_retention</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>0h</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>query_frontend</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>search</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>duration_slo</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>5s</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>throughput_bytes_slo</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>1.073741824e+09</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>trace_by_id</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>duration_slo</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>100ms</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>metrics_generator</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>registry</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>external_labels</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>source</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>tempo</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>cluster</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>docker-compose</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>storage</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>path</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>/var/tempo/generator/wal</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>remote_write</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#204a87;font-weight:700>url</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>http://prometheus:9090/api/v1/write</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#204a87;font-weight:700>send_exemplars</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>true</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>processor</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>service_graphs</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>histogram_buckets</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>0.1</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>0.5</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>5</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>10</span><span style=color:#000;font-weight:700>]</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>span_metrics</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>histogram_buckets</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>0.1</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>0.5</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>5</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>10</span><span style=color:#000;font-weight:700>]</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>storage</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>trace</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>backend</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>local</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>wal</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>path</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>/var/tempo/wal</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>local</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>path</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>/var/tempo/blocks</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>overrides</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>defaults</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>metrics_generator</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>processors</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>[</span><span style=color:#000>service-graphs, span-metrics]</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><p><strong>Step 3: Create <code>docker-compose.yaml</code></strong></p><p>Create a file named <code>docker-compose.yaml</code>:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#204a87;font-weight:700>version</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#39;3&#39;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>services</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#8f5902;font-style:italic># Initialize directory with proper permissions</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>init</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>image</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>busybox:latest</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>user</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>root</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>entrypoint</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>sh -c &#39;mkdir -p /var/tempo/wal /var/tempo/blocks /var/tempo/generator/wal &amp;&amp; chmod -R 777 /var/tempo&#39;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>volumes</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#000>tempo-data:/var/tempo</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#8f5902;font-style:italic># Tempo - distributed tracing backend</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>tempo</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>image</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>grafana/tempo:latest</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>command</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>[</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;-config.file=/etc/tempo.yaml&#34;</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>]</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>volumes</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#000>./tempo.yaml:/etc/tempo.yaml</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#000>tempo-data:/var/tempo</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>ports</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#8f5902;font-style:italic># OTLP API</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#4e9a06>&#34;4317:4317&#34;</span><span style=color:#f8f8f8;text-decoration:underline>     </span><span style=color:#8f5902;font-style:italic># gRPC</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#4e9a06>&#34;4318:4318&#34;</span><span style=color:#f8f8f8;text-decoration:underline>     </span><span style=color:#8f5902;font-style:italic># HTTP</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#8f5902;font-style:italic># Jaeger API</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#4e9a06>&#34;14250:14250&#34;</span><span style=color:#f8f8f8;text-decoration:underline>   </span><span style=color:#8f5902;font-style:italic># gRPC</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#4e9a06>&#34;14268:14268&#34;</span><span style=color:#f8f8f8;text-decoration:underline>   </span><span style=color:#8f5902;font-style:italic># Thrift HTTP</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#8f5902;font-style:italic># Zipkin API</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#4e9a06>&#34;9411:9411&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#8f5902;font-style:italic># Tempo HTTP API</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#4e9a06>&#34;3200:3200&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#8f5902;font-style:italic># Tempo gRPC API</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#4e9a06>&#34;9095:9095&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>depends_on</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>init</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#204a87;font-weight:700>condition</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>service_completed_successfully</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#8f5902;font-style:italic># Prometheus - metrics storage for metrics-generator</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>prometheus</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>image</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>prom/prometheus:latest</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>command</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#4e9a06>&#39;--config.file=/etc/prometheus/prometheus.yaml&#39;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#4e9a06>&#39;--storage.tsdb.path=/prometheus&#39;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#4e9a06>&#39;--storage.tsdb.retention.time=24h&#39;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>volumes</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#000>./prometheus.yaml:/etc/prometheus/prometheus.yaml</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#000>prometheus-data:/prometheus</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>ports</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#4e9a06>&#34;9090:9090&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>depends_on</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#000>tempo</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#8f5902;font-style:italic># Grafana - visualization and dashboards</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>grafana</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>image</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>grafana/grafana:12.2.1</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>environment</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>GF_AUTH_ANONYMOUS_ENABLED</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;true&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>GF_AUTH_ANONYMOUS_ORG_ROLE</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;Admin&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>GF_SECURITY_ADMIN_PASSWORD</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;admin&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>volumes</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#000>grafana-data:/var/lib/grafana</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#000>./grafana-datasources.yaml:/etc/grafana/provisioning/datasources/datasources.yaml</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>ports</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#4e9a06>&#34;3000:3000&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>depends_on</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#000>tempo</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#000>prometheus</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>volumes</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>tempo-data</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>prometheus-data</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>grafana-data</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><p><strong>Step 4: Create <code>prometheus.yaml</code></strong></p><p>Create a file named <code>prometheus.yaml</code>:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#204a87;font-weight:700>global</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>scrape_interval</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>15s</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>evaluation_interval</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>15s</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>scrape_configs</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#204a87;font-weight:700>job_name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#39;prometheus&#39;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>static_configs</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#204a87;font-weight:700>targets</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#39;localhost:9090&#39;</span><span style=color:#000;font-weight:700>]</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#204a87;font-weight:700>job_name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#39;tempo&#39;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>static_configs</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#204a87;font-weight:700>targets</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#39;tempo:3200&#39;</span><span style=color:#000;font-weight:700>]</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><p><strong>Step 5: Create <code>grafana-datasources.yaml</code></strong></p><p>Create a file named <code>grafana-datasources.yaml</code>:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#204a87;font-weight:700>apiVersion</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>datasources</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#204a87;font-weight:700>name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>Tempo</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>type</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>tempo</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>uid</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>tempo-uid</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>access</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>proxy</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>url</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>http://tempo:3200</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>basicAuth</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>false</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>isDefault</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>true</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>editable</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>true</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>jsonData</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>httpMethod</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>GET</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>tracesToMetrics</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#204a87;font-weight:700>datasourceUid</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>prometheus-uid</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>nodeGraph</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#204a87;font-weight:700>enabled</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>true</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#204a87;font-weight:700>name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>Prometheus</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>type</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>prometheus</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>uid</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>prometheus-uid</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>access</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>proxy</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>url</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>http://prometheus:9090</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>basicAuth</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>false</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>isDefault</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>false</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>editable</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>true</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>jsonData</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>timeInterval</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>15s</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>exemplarTraceIdDestinations</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span>- <span style=color:#204a87;font-weight:700>name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>trace_id</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>          </span><span style=color:#204a87;font-weight:700>datasourceUid</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>tempo-uid</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><p><strong>Step 6: Start the stack</strong></p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>docker compose up -d
</span></span></code></pre></div><p><strong>Step 7: Verify deployment</strong></p><p>Check that all services are running:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>docker compose ps
</span></span></code></pre></div><p>Expected output:</p><pre tabindex=0><code>NAME                 COMMAND                  SERVICE      STATUS
tempo-poc-grafana-1  &#34;/run.sh&#34;                grafana      Up
tempo-poc-init-1     &#34;sh -c &#39;mkdir -p /va…&#34;   init         Exited (0)
tempo-poc-prometheus-1 &#34;/bin/prometheus --c…&#34;  prometheus   Up
tempo-poc-tempo-1    &#34;/tempo -config.file…&#34;   tempo        Up
</code></pre><p><strong>Step 8: Verify Tempo is healthy</strong></p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>curl http://localhost:3200/ready
</span></span></code></pre></div><p>Expected response: <code>ready</code> (HTTP 200)</p><p>Check Tempo status:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>curl http://localhost:3200/status/services <span style=color:#000;font-weight:700>|</span> jq
</span></span></code></pre></div><p><strong>Step 9: Access Grafana</strong></p><ol><li>Navigate to http://localhost:3000</li><li>Login: <code>admin</code> / <code>admin</code></li><li>Go to <strong>Explore</strong> tab (left sidebar, compass icon)</li><li>Select <strong>Tempo</strong> datasource from dropdown</li><li>Click <strong>Search</strong> tab to find traces</li></ol><p><strong>Step 10: Send test traces</strong></p><p>Using <code>curl</code> with OTLP/HTTP:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>curl -X POST http://localhost:4318/v1/traces <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  -H <span style=color:#4e9a06>&#34;Content-Type: application/json&#34;</span> <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  -d <span style=color:#4e9a06>&#39;{
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>    &#34;resourceSpans&#34;: [{
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>      &#34;resource&#34;: {
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>        &#34;attributes&#34;: [{
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>          &#34;key&#34;: &#34;service.name&#34;,
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>          &#34;value&#34;: {&#34;stringValue&#34;: &#34;test-service&#34;}
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>        }]
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>      },
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>      &#34;scopeSpans&#34;: [{
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>        &#34;spans&#34;: [{
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>          &#34;traceId&#34;: &#34;5b8aa5a2d2c872e8321cf37308d69df2&#34;,
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>          &#34;spanId&#34;: &#34;051581bf3cb55c13&#34;,
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>          &#34;name&#34;: &#34;test-operation&#34;,
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>          &#34;kind&#34;: 1,
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>          &#34;startTimeUnixNano&#34;: &#34;1000000000000000000&#34;,
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>          &#34;endTimeUnixNano&#34;: &#34;1000000001000000000&#34;
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>        }]
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>      }]
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>    }]
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>  }&#39;</span>
</span></span></code></pre></div><p>Verify the trace was received:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Wait a few seconds for ingestion</span>
</span></span><span style=display:flex><span>sleep <span style=color:#0000cf;font-weight:700>5</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Query trace by ID</span>
</span></span><span style=display:flex><span>curl <span style=color:#4e9a06>&#34;http://localhost:3200/api/traces/5b8aa5a2d2c872e8321cf37308d69df2&#34;</span> <span style=color:#000;font-weight:700>|</span> jq
</span></span></code></pre></div><p><strong>Step 11: Query traces in Grafana</strong></p><ol><li>In Grafana Explore, select <strong>Tempo</strong> datasource</li><li>Click <strong>Search</strong> tab</li><li>Click <strong>Run query</strong> to see all traces</li><li>Filter by service name: <code>service.name = "test-service"</code></li><li>Click on a trace to view the trace details</li></ol><h3 id=configuration-breakdown>Configuration Breakdown</h3><p><strong>Key configuration sections explained:</strong></p><p><strong>Distributor receivers:</strong></p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#204a87;font-weight:700>receivers</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>otlp</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>protocols</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>grpc</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#204a87;font-weight:700>endpoint</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;0.0.0.0:4317&#34;</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#8f5902;font-style:italic># Listen on all interfaces (required for Docker)</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>http</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#204a87;font-weight:700>endpoint</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;0.0.0.0:4318&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><ul><li><code>0.0.0.0</code>: Required for Docker containers to accept external connections</li><li>In Tempo v2.7+, defaults to <code>localhost</code> (which only works within same container)</li><li>OTLP is the <strong>recommended protocol</strong> for new instrumentation</li></ul><p><strong>Ingester configuration:</strong></p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#204a87;font-weight:700>ingester</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>max_block_duration</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>5m     </span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#8f5902;font-style:italic># Flush blocks every 5 minutes (faster for POC)</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>trace_idle_period</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>5s      </span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#8f5902;font-style:italic># Flush trace if no new spans for 5 seconds</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><ul><li>Shorter durations = faster trace availability, more blocks created</li><li>Production: Use 30-60 minutes for <code>max_block_duration</code></li></ul><p><strong>Storage configuration:</strong></p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#204a87;font-weight:700>storage</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>trace</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>backend</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>local             </span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#8f5902;font-style:italic># Use local filesystem (POC only)</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>local</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>path</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>/var/tempo/blocks  </span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#8f5902;font-style:italic># Path inside container</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><ul><li>POC: Use <code>local</code> backend</li><li>Production: Use <code>s3</code>, <code>gcs</code>, or <code>azure</code> backend</li></ul><p><strong>Metrics generator:</strong></p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#204a87;font-weight:700>metrics_generator</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>storage</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>remote_write</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#204a87;font-weight:700>url</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>http://prometheus:9090/api/v1/write</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#204a87;font-weight:700>send_exemplars</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>true</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#8f5902;font-style:italic># Enable trace-to-metrics correlation</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><ul><li>Generates service graph and span metrics</li><li>Enables powerful trace-to-metrics workflows in Grafana</li></ul><h3 id=exposed-ports-and-their-purposes>Exposed Ports and Their Purposes</h3><table><thead><tr><th>Port</th><th>Protocol</th><th>Purpose</th></tr></thead><tbody><tr><td>3200</td><td>HTTP</td><td>Tempo HTTP API (queries, health checks)</td></tr><tr><td>9095</td><td>gRPC</td><td>Tempo gRPC API</td></tr><tr><td>4317</td><td>gRPC</td><td><strong>OTLP gRPC receiver (recommended)</strong></td></tr><tr><td>4318</td><td>HTTP</td><td><strong>OTLP HTTP receiver (recommended)</strong></td></tr><tr><td>14250</td><td>gRPC</td><td>Jaeger gRPC receiver</td></tr><tr><td>14268</td><td>HTTP</td><td>Jaeger Thrift HTTP receiver</td></tr><tr><td>9411</td><td>HTTP</td><td>Zipkin HTTP receiver</td></tr><tr><td>3000</td><td>HTTP</td><td>Grafana web UI</td></tr><tr><td>9090</td><td>HTTP</td><td>Prometheus web UI</td></tr></tbody></table><p><strong>Recommendation:</strong> For new instrumentation, use <strong>OTLP on port 4317 (gRPC)</strong> or <strong>4318 (HTTP)</strong>.</p><h3 id=health-check-endpoints>Health Check Endpoints</h3><p><strong>Tempo ready check:</strong></p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>curl http://localhost:3200/ready
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Returns: ready (HTTP 200)</span>
</span></span></code></pre></div><p><strong>Tempo health status:</strong></p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>curl http://localhost:3200/status/services <span style=color:#000;font-weight:700>|</span> jq
</span></span></code></pre></div><p><strong>Tempo metrics (Prometheus format):</strong></p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>curl http://localhost:3200/metrics
</span></span></code></pre></div><p><strong>Grafana health:</strong></p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>curl http://localhost:3000/api/health
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Returns: {&#34;status&#34;:&#34;ok&#34;}</span>
</span></span></code></pre></div><h3 id=troubleshooting-common-issues>Troubleshooting Common Issues</h3><p><strong>Issue: &ldquo;permission denied&rdquo; on tempo-data directory</strong></p><p>Solution: The <code>init</code> service automatically fixes permissions with <code>chmod -R 777</code>. Ensure <code>init</code> completes successfully before Tempo starts.</p><p><strong>Issue: Tempo fails to start</strong></p><p>Check logs:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>docker compose logs tempo
</span></span></code></pre></div><p>Verify config syntax:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>docker compose <span style=color:#204a87>exec</span> tempo tempo --verify-config -config.file<span style=color:#ce5c00;font-weight:700>=</span>/etc/tempo.yaml
</span></span></code></pre></div><p><strong>Issue: No traces appear in Grafana</strong></p><ol><li><p>Verify Tempo is receiving spans:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>docker compose logs tempo <span style=color:#000;font-weight:700>|</span> grep <span style=color:#4e9a06>&#34;received&#34;</span>
</span></span></code></pre></div></li><li><p>Check Tempo metrics for ingestion:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>curl http://localhost:3200/metrics <span style=color:#000;font-weight:700>|</span> grep tempo_distributor_spans_received_total
</span></span></code></pre></div></li><li><p>Verify data source configuration in Grafana:</p><ul><li>Go to <strong>Configuration</strong> → <strong>Data Sources</strong></li><li>Click <strong>Tempo</strong></li><li>Click <strong>Save & Test</strong></li><li>Should see: &ldquo;Data source is working&rdquo;</li></ul></li><li><p>Wait a few seconds—traces need to be flushed from ingester</p></li></ol><p><strong>Issue: Connection refused on port 4317/4318</strong></p><p>Ensure <code>endpoint: "0.0.0.0:4317"</code> is set (not <code>localhost</code>) in <code>tempo.yaml</code>. Tempo v2.7+ defaults to <code>localhost</code>, which doesn&rsquo;t work in Docker.</p><h3 id=shutting-down>Shutting Down</h3><p>Stop all services:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>docker compose down
</span></span></code></pre></div><p>Remove data volumes (WARNING: deletes all traces):</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>docker compose down -v
</span></span><span style=display:flex><span>rm -rf tempo-data/
</span></span></code></pre></div><h2 id=best-practices>Best Practices</h2><h3 id=sampling-strategies-1>Sampling Strategies</h3><p><strong>Development environments:</strong></p><ul><li>100% sampling (no sampling)</li><li>Capture all traces for comprehensive debugging</li></ul><p><strong>Production environments:</strong></p><ul><li><p><strong>Tail-based sampling</strong> (recommended):</p><ul><li>Always sample traces with <code>status = error</code></li><li>Always sample traces with duration > P99 latency threshold</li><li>Sample 10-20% of successful, fast traces</li><li>Use OpenTelemetry Collector tail sampling processor</li></ul></li><li><p><strong>Head-based sampling</strong> (simpler alternative):</p><ul><li>Sample 10-30% of all traces</li><li>Trade-off: May miss rare errors</li></ul></li></ul><p><strong>BattleBots-specific:</strong></p><ul><li>Always sample traces with critical game events:<ul><li><code>span.action.type = "bot_death"</code></li><li><code>span.event.type = "battle_end"</code></li><li><code>status = error</code></li></ul></li><li>Sample 20% of normal bot actions</li><li>Sample 100% of battles with unusual duration (> 5 minutes or &lt; 10 seconds)</li></ul><h3 id=storage-optimization>Storage Optimization</h3><p><strong>Block configuration:</strong></p><ul><li><code>max_block_duration</code>: 30-60 minutes (balance memory vs. block count)</li><li><code>max_block_bytes</code>: Default 100GB (prevents excessive block sizes)</li><li><code>trace_idle_period</code>: 10 seconds default (flush traces after idle period)</li></ul><p><strong>Retention policies:</strong></p><ul><li><code>block_retention</code>: 30 days recommended (industry sweet spot)</li><li><code>compacted_block_retention</code>: 0-1 hour (delete source blocks after compaction)</li></ul><p><strong>Object storage lifecycle:</strong></p><ul><li>Set S3/GCS lifecycle policies to delete objects 1-2 days post-retention</li><li>Prevents orphaned data accumulation</li></ul><p><strong>Storage cost formula:</strong></p><pre tabindex=0><code>Storage Cost = (Ingested Spans/Day × Average Span Size × Retention Days) × Storage Rate
</code></pre><p>Example:</p><ul><li>1M spans/day × 1KB/span × 30 days × $0.023/GB/month = $0.69/month</li></ul><p>Compare to Jaeger with Cassandra: ~$50-100/month for same volume.</p><h3 id=configuration-best-practices>Configuration Best Practices</h3><p><strong>Distributor:</strong></p><ul><li>Enable only needed receivers (disable unused protocols)</li><li>Use OTLP as primary protocol (best performance)</li><li>Configure rate limiting for multi-tenant deployments</li></ul><p><strong>Ingester:</strong></p><ul><li>Deploy with RF=3 (replication factor 3) for production</li><li>Enable WAL (Write-Ahead Log) for crash recovery</li><li>Set lifecycle hooks for graceful shutdown (flush before termination)</li></ul><p><strong>Querier:</strong></p><ul><li>Scale based on query concurrency and complexity</li><li>Enable query result caching</li><li>Monitor querier CPU/memory usage</li></ul><p><strong>Compactor:</strong></p><ul><li>Schedule during low-traffic periods if possible</li><li>Monitor compaction lag (blocks pending compaction)</li><li>Only one compactor per tenant (avoid conflicts)</li></ul><h3 id=performance-tuning>Performance Tuning</h3><p><strong>Ingestion throughput:</strong></p><ul><li>Use OTLP protocol (recommended, most efficient)</li><li>Enable gRPC compression (snappy) for bandwidth efficiency</li><li>Increase <code>concurrent_flushes</code> for parallelized block writing</li><li>Reduce <code>trace_idle_period</code> for faster memory clearing</li></ul><p><strong>Query performance:</strong></p><ul><li>Use trace ID lookups when possible (fastest)</li><li>TraceQL queries: Filter by indexed attributes first</li><li>Limit time range to reduce blocks scanned</li><li>Use <code>with(span_sample=0.1)</code> for approximate queries on large datasets</li></ul><p><strong>Resource allocation (microservices mode):</strong></p><ul><li>Distributors: 1 replica per 10MB/s of received traffic (2 CPU, 2GB)</li><li>Ingesters: 1 replica per 3-5MB/s of traffic (2.5 CPU, 8-12GB)</li><li>Queriers: 1 replica per 1-2MB/s of traffic (2 CPU, 4-8GB)</li></ul><h3 id=monitoring-tempo-itself>Monitoring Tempo Itself</h3><p><strong>Critical metrics to monitor:</strong></p><ul><li><code>tempo_distributor_spans_received_total</code>: Ingestion volume</li><li><code>tempo_distributor_spans_rejected_total</code>: Rejected spans (rate limiting)</li><li><code>tempo_ingester_blocks_flushed_total</code>: Block flush operations</li><li><code>tempo_ingester_memory_usage</code>: Memory consumption</li><li><code>tempo_query_frontend_bytes_inspected_total</code>: Query load</li><li><code>tempo_compactor_blocks_compacted_total</code>: Compaction activity</li></ul><p><strong>Set up alerts for:</strong></p><ul><li>Ingester OOM risk (memory trending toward limits)</li><li>Distributor span rejection rate > 1%</li><li>Compactor failures or lag</li><li>Query response time > SLA threshold</li></ul><p><strong>Use Tempo&rsquo;s built-in dashboards:</strong></p><ul><li>Import from <a href=https://github.com/grafana/tempo/tree/main/operations/tempo-mixin/dashboards>Tempo GitHub repo</a></li><li>Includes: Tempo Reads, Tempo Writes, Tempo Resources, Tempo Operational</li></ul><h2 id=when-to-use-tempo>When to Use Tempo</h2><h3 id=ideal-use-cases-for-tempo>Ideal Use Cases for Tempo</h3><p><strong>1. Cost-Conscious Organizations</strong></p><ul><li>Need to store high volumes of traces affordably</li><li>Want to avoid expensive Cassandra or Elasticsearch infrastructure</li><li>Require long-term retention (30+ days) at reasonable cost</li></ul><p><strong>2. Cloud-Native Applications</strong></p><ul><li>Already using or planning to use Grafana ecosystem (Loki, Mimir, Prometheus)</li><li>Need trace-metric-log correlation for unified observability</li><li>Deployed on Kubernetes with object storage available</li></ul><p><strong>3. Trace-ID-First Workflows</strong></p><ul><li>Debugging starts with trace IDs from logs or metrics</li><li>Use exemplars to jump from metric spikes to traces</li><li>Don&rsquo;t require ad-hoc exploratory search across all traces</li></ul><p><strong>4. High-Volume Tracing</strong></p><ul><li>Want to store 100% of traces (no sampling)</li><li>Traffic volume makes traditional backends prohibitively expensive</li><li>Need to scale from thousands to millions of traces/second</li></ul><p><strong>5. Multi-Tenant Platforms</strong></p><ul><li>SaaS platforms requiring tenant isolation</li><li>Per-tenant retention and limits</li><li>Cost attribution per tenant</li></ul><h3 id=when-to-choose-tempo-vs-jaeger>When to Choose Tempo vs. Jaeger</h3><table><thead><tr><th>Factor</th><th>Choose Tempo</th><th>Choose Jaeger</th></tr></thead><tbody><tr><td><strong>Cost</strong></td><td>High trace volume, limited budget</td><td>Cost not a primary concern</td></tr><tr><td><strong>Search</strong></td><td>Trace ID lookups + TraceQL queries</td><td>Need powerful tag-based ad-hoc search</td></tr><tr><td><strong>Operations</strong></td><td>Want minimal infrastructure</td><td>Have Cassandra/Elasticsearch expertise</td></tr><tr><td><strong>Integration</strong></td><td>Using Grafana ecosystem</td><td>Need standalone solution</td></tr><tr><td><strong>Maturity</strong></td><td>Comfortable with newer project</td><td>Require CNCF graduated project</td></tr><tr><td><strong>Sampling</strong></td><td>Want to store 100% of traces</td><td>Acceptable to sample aggressively</td></tr></tbody></table><p><strong>Tempo Advantages:</strong></p><ul><li>10x+ lower storage costs</li><li>Minimal operational complexity (no database management)</li><li>Native Grafana integration with trace-metric-log correlation</li><li>TraceQL provides powerful query capabilities</li><li>Multi-tenancy support</li></ul><p><strong>Jaeger Advantages:</strong></p><ul><li>Mature, battle-tested (CNCF graduated since 2019)</li><li>Powerful tag-based search without needing trace ID</li><li>Better for exploratory debugging of unknown issues</li><li>Larger community and ecosystem</li><li>More UI features out-of-the-box</li></ul><p><strong>Migration path:</strong> Tempo can ingest Jaeger-format traces, enabling gradual migration.</p><h3 id=when-to-choose-tempo-vs-zipkin>When to Choose Tempo vs. Zipkin</h3><table><thead><tr><th>Factor</th><th>Choose Tempo</th><th>Choose Zipkin</th></tr></thead><tbody><tr><td><strong>Architecture</strong></td><td>Modern, cloud-native</td><td>Traditional, database-backed</td></tr><tr><td><strong>Cost</strong></td><td>Object storage (very low)</td><td>Database storage (medium-high)</td></tr><tr><td><strong>Query</strong></td><td>TraceQL (powerful)</td><td>Tag-based search (simpler)</td></tr><tr><td><strong>Scale</strong></td><td>Millions of traces/second</td><td>Moderate scale</td></tr><tr><td><strong>Integration</strong></td><td>Grafana ecosystem</td><td>Standalone, Zipkin UI</td></tr></tbody></table><p><strong>Tempo Advantages:</strong></p><ul><li>Much lower cost at scale</li><li>More powerful query language (TraceQL)</li><li>Better integration with modern observability stacks</li><li>Horizontal scalability</li></ul><p><strong>Zipkin Advantages:</strong></p><ul><li>Longer history (since 2012), very mature</li><li>Simpler architecture for small deployments</li><li>Native Zipkin UI</li></ul><p><strong>Migration path:</strong> Tempo can ingest Zipkin-format traces natively.</p><h3 id=when-not-to-use-tempo>When NOT to Use Tempo</h3><p><strong>1. Exploratory Debugging is Primary Workflow</strong></p><ul><li>If you frequently need to search traces without knowing trace IDs</li><li>If you need to find &ldquo;all traces for customer_id=123 with errors&rdquo; ad-hoc</li><li>Consider: Jaeger&rsquo;s full indexing better suits this workflow</li></ul><p><strong>2. Standalone Tracing Requirements</strong></p><ul><li>If you need tracing independent of logs/metrics</li><li>If you&rsquo;re not using or planning to use Grafana</li><li>Consider: Jaeger or Zipkin provide standalone UIs</li></ul><p><strong>3. Very Low Trace Volume</strong></p><ul><li>If you&rsquo;re ingesting &lt; 1,000 traces/day</li><li>If cost is not a concern</li><li>Consider: Jaeger may be simpler for small scale</li></ul><p><strong>4. Need Immediate Full-Text Search</strong></p><ul><li>If you require searching trace content (span names, attribute values) without trace ID</li><li>If TraceQL&rsquo;s capabilities are insufficient</li><li>Consider: Jaeger or Elasticsearch-backed solutions</li></ul><p><strong>5. Require Managed Solution</strong></p><ul><li>If you don&rsquo;t want to manage infrastructure</li><li>If you need enterprise support and SLAs</li><li>Consider: Grafana Cloud Tempo, Honeycomb, or Lightstep</li></ul><h2 id=battlebots-integration>BattleBots Integration</h2><h3 id=battle-workflow-tracing>Battle Workflow Tracing</h3><p>Tempo enables comprehensive tracing of the entire battle lifecycle in BattleBots:</p><p><strong>Matchmaking → Battle Execution → Results Persistence:</strong></p><pre tabindex=0><code>Trace: Complete Battle (trace_id: battle_abc123)
├─ Span: MatchmakingRequest (50ms)
│  ├─ Span: FindAvailablePlayers (database query, 30ms)
│  └─ Span: CreateBattleSession (20ms)
├─ Span: InitializeBattle (200ms)
│  ├─ Span: LoadBot1 (container start, 100ms)
│  ├─ Span: LoadBot2 (container start, 100ms)
│  └─ Span: InitializeGameState (10ms)
├─ Span: ExecuteBattle (5000ms)
│  ├─ Span: GameLoop-Tick-1 (10ms)
│  │  ├─ Span: Bot1Action-Move (5ms)
│  │  ├─ Span: Bot2Action-Attack (5ms)
│  │  └─ Span: UpdateState (2ms)
│  ├─ Span: GameLoop-Tick-2 (10ms)
│  │  ...
│  └─ Span: GameLoop-Tick-N (10ms)
└─ Span: PersistResults (100ms)
   ├─ Span: SaveBattleResults (database, 50ms)
   └─ Span: UpdateLeaderboard (50ms)
</code></pre><p><strong>Span attributes for battles:</strong></p><pre tabindex=0><code>span.battle.id = &#34;battle_abc123&#34;
span.battle.mode = &#34;1v1&#34;
span.bot.1.id = &#34;bot_xyz&#34;
span.bot.2.id = &#34;bot_def&#34;
span.game.tick = 42
span.action.type = &#34;attack&#34;
span.action.success = true
span.result.winner = &#34;bot_xyz&#34;
</code></pre><h3 id=traceql-queries-for-battlebots>TraceQL Queries for BattleBots</h3><p><strong>Find slow bot actions:</strong></p><pre tabindex=0><code class=language-traceql data-lang=traceql>{ resource.service.name = &#34;game-server&#34;
  &amp;&amp; span.action.type = &#34;bot_move&#34;
  &amp;&amp; duration &gt; 100ms }
</code></pre><p><strong>Find all battles where a bot died:</strong></p><pre tabindex=0><code class=language-traceql data-lang=traceql>{ span.event.type = &#34;bot_death&#34; }
</code></pre><p><strong>Find battles with database latency issues:</strong></p><pre tabindex=0><code class=language-traceql data-lang=traceql>{ span.db.statement != nil &amp;&amp; duration &gt; 500ms }
</code></pre><p><strong>Find error traces in matchmaking:</strong></p><pre tabindex=0><code class=language-traceql data-lang=traceql>{ resource.service.name = &#34;matchmaking&#34; &amp;&amp; status = error }
</code></pre><p><strong>Aggregate: Count battles by result:</strong></p><pre tabindex=0><code class=language-traceql data-lang=traceql>{ span.result.winner != nil } | by(span.result.winner) | count()
</code></pre><h3 id=unified-observability-workflows>Unified Observability Workflows</h3><p><strong>Workflow 1: Metric Spike → Trace → Logs</strong></p><ol><li><strong>Metric alert</strong>: Battle action latency P99 > 500ms</li><li><strong>Jump to exemplar trace</strong>: Click exemplar in Grafana metric graph</li><li><strong>Identify slow span</strong>: See <code>PersistState (database)</code> span is 450ms</li><li><strong>View correlated logs</strong>: Click span → view logs with same trace_id</li><li><strong>Root cause</strong>: Logs show &ldquo;database connection pool exhausted&rdquo;</li></ol><p><strong>Workflow 2: Trace → Metrics</strong></p><ol><li><strong>Identify slow trace</strong>: Find trace with 10-second battle duration</li><li><strong>View service metrics</strong>: Click &ldquo;Related Metrics&rdquo; in Grafana</li><li><strong>Correlate</strong>: See CPU usage spike at same timestamp</li><li><strong>Conclusion</strong>: Resource contention caused slow battle</li></ol><p><strong>Workflow 3: Log → Trace</strong></p><ol><li><strong>Error log</strong>: See log line &ldquo;failed to process bot action&rdquo;</li><li><strong>Extract trace_id</strong>: Log contains <code>trace_id=abc123</code></li><li><strong>Query trace</strong>: Search Tempo for <code>abc123</code></li><li><strong>Analyze</strong>: See exact span where failure occurred with full context</li></ol><h3 id=integration-with-loki-and-mimir>Integration with Loki and Mimir</h3><p><strong>Complete LGTM Stack for BattleBots:</strong></p><pre tabindex=0><code>┌─────────────────────────────────────────────────────┐
│         BattleBots Observability Stack             │
├─────────────────────────────────────────────────────┤
│                                                     │
│  Game Servers / Bot Runtimes / Matchmaking         │
│         (Instrumented with OpenTelemetry)           │
│                     ↓                               │
│         OpenTelemetry Collector                     │
│     (receives logs, metrics, traces via OTLP)       │
│                     ↓                               │
│         ┌───────────┼───────────┐                   │
│         ↓           ↓           ↓                   │
│      Loki        Mimir       Tempo                  │
│     (Logs)     (Metrics)   (Traces)                 │
│         ↓           ↓           ↓                   │
│              Grafana                                │
│    (Unified Visualization &amp; Correlation)            │
│                                                     │
│  Features:                                          │
│  - Exemplars: Metric → Trace                        │
│  - Trace ID: Log → Trace                            │
│  - Service Graphs: Trace → Metrics                  │
│  - Unified Dashboards: All signals in one view      │
└─────────────────────────────────────────────────────┘
</code></pre><p><strong>Configuration for correlation:</strong></p><p><strong>Application instrumentation (Go example):</strong></p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>(</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#4e9a06>&#34;go.opentelemetry.io/otel&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#4e9a06>&#34;go.opentelemetry.io/otel/trace&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#4e9a06>&#34;github.com/sirupsen/logrus&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#8f5902;font-style:italic>// Inject trace ID into logs</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>func</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>logWithTrace</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ctx</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>context</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Context</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>msg</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>string</span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>{</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#000>span</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>:=</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>trace</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>SpanFromContext</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ctx</span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#000>logger</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>WithFields</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>logrus</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Fields</span><span style=color:#000;font-weight:700>{</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#4e9a06>&#34;trace_id&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>span</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>SpanContext</span><span style=color:#000;font-weight:700>().</span><span style=color:#000>TraceID</span><span style=color:#000;font-weight:700>().</span><span style=color:#000>String</span><span style=color:#000;font-weight:700>(),</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#4e9a06>&#34;span_id&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#000>span</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>SpanContext</span><span style=color:#000;font-weight:700>().</span><span style=color:#000>SpanID</span><span style=color:#000;font-weight:700>().</span><span style=color:#000>String</span><span style=color:#000;font-weight:700>(),</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#000;font-weight:700>}).</span><span style=color:#000>Info</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>msg</span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#000;font-weight:700>}</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><p><strong>Grafana datasource configuration:</strong></p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#204a87;font-weight:700>datasources</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#204a87;font-weight:700>name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>Tempo</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>type</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>tempo</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>jsonData</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>tracesToLogs</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#204a87;font-weight:700>datasourceUid</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>loki-uid</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#204a87;font-weight:700>tags</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#39;trace_id&#39;</span><span style=color:#000;font-weight:700>]</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>tracesToMetrics</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#204a87;font-weight:700>datasourceUid</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>mimir-uid</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#204a87;font-weight:700>name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>Loki</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>type</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>loki</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>jsonData</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>derivedFields</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span>- <span style=color:#204a87;font-weight:700>name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>TraceID</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>          </span><span style=color:#204a87;font-weight:700>matcherRegex</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;trace_id=(\\w+)&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>          </span><span style=color:#204a87;font-weight:700>url</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;$${__value.raw}&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>          </span><span style=color:#204a87;font-weight:700>datasourceUid</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>tempo-uid</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#204a87;font-weight:700>name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>Mimir</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>type</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>prometheus</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>jsonData</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>exemplarTraceIdDestinations</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span>- <span style=color:#204a87;font-weight:700>name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>trace_id</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>          </span><span style=color:#204a87;font-weight:700>datasourceUid</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>tempo-uid</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><h2 id=further-reading>Further Reading</h2><h3 id=official-documentation>Official Documentation</h3><ul><li><a href=https://grafana.com/docs/tempo/latest/>Grafana Tempo Official Documentation</a></li><li><a href=https://github.com/grafana/tempo>Tempo GitHub Repository</a></li><li><a href=https://grafana.com/docs/tempo/latest/traceql/>TraceQL Query Language Reference</a></li><li><a href=https://grafana.com/docs/tempo/latest/configuration/>Tempo Configuration Reference</a></li><li><a href=https://grafana.com/docs/tempo/latest/operations/architecture/>Tempo Architecture Deep Dive</a></li></ul><h3 id=deployment-and-operations>Deployment and Operations</h3><ul><li><a href=https://grafana.com/docs/tempo/latest/set-up-for-tracing/setup-tempo/deploy/locally/docker-compose/>Deploy Tempo using Docker Compose</a></li><li><a href=https://grafana.com/docs/tempo/latest/set-up-for-tracing/setup-tempo/plan/deployment-modes/>Monolithic and Microservices Modes</a></li><li><a href=https://grafana.com/docs/tempo/latest/set-up-for-tracing/setup-tempo/plan/size/>Size the Cluster</a></li><li><a href=https://grafana.com/docs/tempo/latest/getting-started/best-practices/>Best Practices for Traces</a></li><li><a href=https://grafana.com/docs/tempo/latest/operations/monitor/>Monitor Tempo</a></li></ul><h3 id=traceql-and-querying>TraceQL and Querying</h3><ul><li><a href=https://grafana.com/docs/tempo/latest/traceql/>TraceQL Query Language</a></li><li><a href=https://grafana.com/docs/tempo/latest/traceql/construct-traceql-queries/>Construct a TraceQL Query</a></li><li><a href=https://grafana.com/docs/tempo/latest/traceql/metrics-queries/>TraceQL Metrics</a></li></ul><h3 id=integration-guides>Integration Guides</h3><ul><li><a href=https://grafana.com/docs/grafana/latest/datasources/tempo/configure-tempo-data-source/>Configure Tempo Data Source in Grafana</a></li><li><a href=https://grafana.com/blog/2020/11/09/trace-discovery-in-grafana-tempo-using-prometheus-exemplars-loki-2.0-queries-and-more/>Trace Discovery using Exemplars and Loki</a></li><li><a href=https://grafana.com/docs/grafana/latest/fundamentals/exemplars/>Introduction to Exemplars</a></li><li><a href=https://grafana.com/go/webinar/intro-to-mltp/>LGTM Stack: Loki, Grafana, Tempo, Mimir</a></li></ul><h3 id=comparisons-and-alternatives>Comparisons and Alternatives</h3><ul><li><a href=https://last9.io/blog/grafana-tempo-vs-jaeger/>Grafana Tempo vs Jaeger</a></li><li><a href=https://signoz.io/blog/jaeger-vs-tempo/>Jaeger vs Tempo - Key Features and Differences</a></li><li><a href=https://codersociety.com/blog/articles/jaeger-vs-zipkin-vs-tempo>Open-Source Tracing Tools: Jaeger vs Zipkin vs Tempo</a></li></ul><h3 id=community-resources>Community Resources</h3><ul><li><a href=https://grafana.com/blog/tag/tempo/>Grafana Labs Blog - Tempo</a></li><li><a href=https://community.grafana.com/c/grafana-tempo/>Grafana Community Forums - Tempo</a></li><li><a href=https://www.cncf.io/projects/opentelemetry/>CNCF OpenTelemetry Project</a></li></ul><h3 id=related-battlebots-documentation>Related BattleBots Documentation</h3><ul><li><a href=../otel-collector/otel-collector-traces.md>OpenTelemetry Collector: Traces Support</a> - Understanding distributed tracing concepts</li><li><a href=../logs/loki/loki-overview.md>Grafana Loki Overview</a> - Log aggregation for correlation</li><li><a href=../metrics/mimir/mimir-overview.md>Grafana Mimir Overview</a> - Metrics storage for correlation</li><li><a href=../_index.md>Observability Stack Overview</a> - How Tempo fits into the complete observability architecture</li></ul></div></main></div></div><footer class="td-footer row d-print-none"><div class=container-fluid><div class="row mx-md-2"><div class="td-footer__left col-6 col-sm-4 order-sm-1"><ul class=td-footer__links-list><li class=td-footer__links-item data-bs-toggle=tooltip title="GitHub Discussions" aria-label="GitHub Discussions"><a target=_blank rel=noopener href=https://github.com/z5labs/battlebots/discussions aria-label="GitHub Discussions"><i class="fab fa-github"></i></a></li></ul></div><div class="td-footer__right col-6 col-sm-4 order-sm-3"><ul class=td-footer__links-list><li class=td-footer__links-item data-bs-toggle=tooltip title=GitHub aria-label=GitHub><a target=_blank rel=noopener href=https://github.com/z5labs/battlebots aria-label=GitHub><i class="fab fa-github"></i></a></li></ul></div><div class="td-footer__center col-12 col-sm-4 py-2 order-sm-2"><span class=td-footer__copyright>&copy;
2025
<span class=td-footer__authors>Z5Labs and Contributors</span></span><span class=td-footer__all_rights_reserved>All Rights Reserved</span></div></div></div></footer></div><script type=module async>
  import mermaid from "https:\/\/cdn.jsdelivr.net\/npm\/mermaid@latest\/dist\/mermaid.esm.min.mjs";

  (function ($) {
    if ($('.mermaid').length == 0) {
      mermaid.initialize({ startOnLoad: false });
      return;
    }

    var params = {};

    
    
    var norm = function (defaultConfig, params) {
      var result = {};
      for (const key in defaultConfig) {
        const keyLower = key.toLowerCase();
        if (defaultConfig.hasOwnProperty(key) && params.hasOwnProperty(keyLower)) {
          if (typeof defaultConfig[key] === "object") {
            result[key] = norm(defaultConfig[key], params[keyLower]);
          } else {
            result[key] = params[keyLower];
          }
        }
      }
      return result;
    };

    var settings = norm(mermaid.mermaidAPI.defaultConfig, params);
    settings.startOnLoad = true;
    if ($('html[data-bs-theme="dark"]').length) {
      settings.theme = 'dark';
    }
    mermaid.initialize(settings);

    
    const lightDarkModeThemeChangeHandler = function (mutationsList, observer) {
      for (const mutation of mutationsList) {
        if (mutation.type === 'attributes' && mutation.attributeName === 'data-bs-theme') {
          
          
          
          location.reload();
        }
      }
    };

    const observer = new MutationObserver(lightDarkModeThemeChangeHandler);
    observer.observe(document.documentElement, {
      attributes: true,
      attributeFilter: ['data-bs-theme']
    });
    

  })(jQuery);
</script><script src=/battlebots/pr-preview/pr-153/js/main.min.403ff095218c662472dab60ed98ecbb19431682de5ac7c6159891241cd366af5.js integrity="sha256-QD/wlSGMZiRy2rYO2Y7LsZQxaC3lrHxhWYkSQc02avU=" crossorigin=anonymous></script><script defer src=/battlebots/pr-preview/pr-153/js/click-to-copy.min.73478a7d4807698aed7e355eb23f9890ca18fea3158604c8471746d046702bad.js integrity="sha256-c0eKfUgHaYrtfjVesj+YkMoY/qMVhgTIRxdG0EZwK60=" crossorigin=anonymous></script><script src=/battlebots/pr-preview/pr-153/js/tabpane-persist.js></script></body></html>