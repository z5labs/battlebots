<!doctype html><html itemscope itemtype=http://schema.org/WebPage lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><link rel="shortcut icon" href=/battlebots/pr-preview/pr-150/favicons/favicon.ico><link rel=apple-touch-icon href=/battlebots/pr-preview/pr-150/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/battlebots/pr-preview/pr-150/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/battlebots/pr-preview/pr-150/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/battlebots/pr-preview/pr-150/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/battlebots/pr-preview/pr-150/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/battlebots/pr-preview/pr-150/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/battlebots/pr-preview/pr-150/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/battlebots/pr-preview/pr-150/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/battlebots/pr-preview/pr-150/favicons/android-192x192.png sizes=192x192><title>OpenTelemetry Collector: Metrics Support | Battle Bots Documentation</title><meta name=description content="Deep dive into how the OpenTelemetry Collector handles metrics data, including the metrics data model, receivers, processors, exporters, and temporality concepts."><meta property="og:url" content="https://z5labs.github.io/battlebots/pr-preview/pr-150/research_and_development/analysis/observability/otel-collector/otel-collector-metrics/"><meta property="og:site_name" content="Battle Bots Documentation"><meta property="og:title" content="OpenTelemetry Collector: Metrics Support"><meta property="og:description" content="Deep dive into how the OpenTelemetry Collector handles metrics data, including the metrics data model, receivers, processors, exporters, and temporality concepts."><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="research_and_development"><meta itemprop=name content="OpenTelemetry Collector: Metrics Support"><meta itemprop=description content="Deep dive into how the OpenTelemetry Collector handles metrics data, including the metrics data model, receivers, processors, exporters, and temporality concepts."><meta itemprop=wordCount content="1993"><meta name=twitter:card content="summary"><meta name=twitter:title content="OpenTelemetry Collector: Metrics Support"><meta name=twitter:description content="Deep dive into how the OpenTelemetry Collector handles metrics data, including the metrics data model, receivers, processors, exporters, and temporality concepts."><link rel=preload href=/battlebots/pr-preview/pr-150/scss/main.min.74eef40c5172b0e2f11bd9c3ea40dba66c2dc642ac5294c208f5dc9ff772c0e9.css as=style integrity="sha256-dO70DFFysOLxG9nD6kDbpmwtxkKsUpTCCPXcn/dywOk=" crossorigin=anonymous><link href=/battlebots/pr-preview/pr-150/scss/main.min.74eef40c5172b0e2f11bd9c3ea40dba66c2dc642ac5294c208f5dc9ff772c0e9.css rel=stylesheet integrity="sha256-dO70DFFysOLxG9nD6kDbpmwtxkKsUpTCCPXcn/dywOk=" crossorigin=anonymous><script src=https://code.jquery.com/jquery-3.7.1.min.js integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin=anonymous></script><script defer src=https://unpkg.com/lunr@2.3.9/lunr.min.js integrity=sha384-203J0SNzyqHby3iU6hzvzltrWi/M41wOP5Gu+BiJMz5nwKykbkUx8Kp7iti0Lpli crossorigin=anonymous></script></head><body class=td-page><header><nav class="td-navbar js-navbar-scroll" data-bs-theme=dark><div class="container-fluid flex-column flex-md-row"><a class=navbar-brand href=/battlebots/pr-preview/pr-150/><span class="navbar-brand__logo navbar-logo"><svg id="Layer_1" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 500 500" style="enable-background:new 0 0 500 500"><g><path style="fill:#fff" d="M116.8525 421.9722c-5.7041.0-10.3442-4.3127-10.3442-9.6129V88.183c0-5.3002 4.6401-9.6117 10.3442-9.6117H320.858c3.0347.0 9.3959.5498 11.7506 2.6302l.3545.3442 58.905 63.2912c2.3101 2.491 2.9202 8.4928 2.9202 11.3184v256.2039c0 5.3002-4.6407 9.6129-10.3436 9.6129H116.8525z"/><g><g><g><path style="fill:#767676" d="M384.4445 423.2066H116.852c-6.3839.0-11.5786-4.8658-11.5786-10.8474V88.1831c0-5.9804 5.1947-10.8461 11.5786-10.8461h204.0062c.377.0 9.2786.0329 12.568 2.9389l.3947.3833 58.9508 63.337c3.2135 3.4652 3.2514 11.7924 3.2514 12.1593v256.2036C396.0231 418.3408 390.8284 423.2066 384.4445 423.2066zM116.5079 411.9189c.0848.0278.1999.0531.3441.0531h267.5925c.1442.0.2581-.0253.3441-.0531V156.1556c-.0076-.9033-.3593-3.7347-.7034-5.0037l-57.6527-61.9416c-1.4651-.3176-4.4533-.6389-5.5742-.6389H116.852c-.143.0-.2594.024-.3441.0531V411.9189zm267.4533-261.149zM327.0321 89.371v.0013V89.371z"/></g></g></g><g><g><path style="fill:#5b7fc0" d="M189.0874 210.1754l.0012-.0012c7.7751.0012 15.0295 4.1862 18.932 10.9234 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3304-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032s-11.328-2.2733-15.458-6.4032-6.4032-9.6186-6.4056-15.4628c.0012-6.025 2.454-11.4897 6.4116-15.4473C177.5953 212.627 183.0601 210.1742 189.0874 210.1754zm7.993 21.8576c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6539 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403S197.0816 234.1722 197.0804 232.033z"/><path style="opacity:.3;fill:#fff" d="M189.0898 210.176c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 212.6276 183.0612 210.176 189.0898 210.176zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 236.239 197.0839 234.2399 197.0839 232.0372z"/><g><defs><path id="SVGID_1_" d="M194.7376 237.6875c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.999 7.9942-7.9942 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.0839 234.2399 196.1861 236.239 194.7376 237.6875z"/></defs><clipPath id="SVGID_2_"><use xlink:href="#SVGID_1_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_2_);fill:#fff" d="M190.0704 225.0237c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 225.7247 191.9774 225.0237 190.0704 225.0237z"/><path style="opacity:.13;clip-path:url(#SVGID_2_);fill:#020202" d="M190.0704 225.0237c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 225.7247 191.9774 225.0237 190.0704 225.0237z"/></g><g><defs><path id="SVGID_3_" d="M189.0898 210.176c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 212.6276 183.0612 210.176 189.0898 210.176zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 236.239 197.0839 234.2399 197.0839 232.0372z"/></defs><clipPath id="SVGID_4_"><use xlink:href="#SVGID_3_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_4_);fill:#5b7fc0" d="M172.6595 215.6045c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8612 12.0547.0024 21.8636-9.797 21.8613-21.8612.0024-3.8475-1.0151-7.6326-2.9353-10.9462-3.8977-6.7324-11.1497-10.9151-18.926-10.9151C182.0806 209.1953 176.6171 211.647 172.6595 215.6045z"/></g></g><rect x="198.8952" y="225.1043" style="fill:#5b7fc0" width="122.6266" height="13.8671"/></g><g><path style="fill:#d95140" d="M189.0874 155.7611l.0012-.0012c7.7751.0012 15.0295 4.1862 18.932 10.9234 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3304-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032s-11.328-2.2733-15.458-6.4032-6.4032-9.6186-6.4056-15.4628c.0012-6.0249 2.454-11.4897 6.4116-15.4473C177.5953 158.2128 183.0601 155.7599 189.0874 155.7611zm7.993 21.8577c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6539 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403C196.2508 181.7667 197.0816 179.758 197.0804 177.6188z"/><path style="opacity:.3;fill:#fff" d="M189.0898 155.7617c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 158.2134 183.0612 155.7617 189.0898 155.7617zm7.9941 21.8613c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 181.8248 197.0839 179.8256 197.0839 177.623z"/><g><defs><path id="SVGID_5_" d="M194.7376 183.2733c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.9989 7.9942-7.9942 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.0839 179.8256 196.1861 181.8248 194.7376 183.2733z"/></defs><clipPath id="SVGID_6_"><use xlink:href="#SVGID_5_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_6_);fill:#fff" d="M190.0704 170.6095c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 171.3104 191.9774 170.6095 190.0704 170.6095z"/><path style="opacity:.13;clip-path:url(#SVGID_6_);fill:#020202" d="M190.0704 170.6095c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 171.3104 191.9774 170.6095 190.0704 170.6095z"/></g><g><defs><path id="SVGID_7_" d="M189.0898 155.7617c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 158.2134 183.0612 155.7617 189.0898 155.7617zm7.9941 21.8613c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 181.8248 197.0839 179.8256 197.0839 177.623z"/></defs><clipPath id="SVGID_8_"><use xlink:href="#SVGID_7_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_8_);fill:#d95140" d="M172.6595 161.1903c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8613 12.0547.0024 21.8636-9.797 21.8613-21.8613.0024-3.8474-1.0151-7.6326-2.9353-10.9462-3.8977-6.7324-11.1497-10.9151-18.926-10.9151C182.0806 154.7811 176.6171 157.2327 172.6595 161.1903z"/></g><rect x="198.8952" y="170.69" style="fill:#d95140" width="122.6266" height="13.8671"/></g><g><g><path style="fill:#56a55c" d="M189.5379 264.6147l.0012-.0012c7.7751.0012 15.0294 4.1862 18.932 10.9235 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3304-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032-5.8394.0-11.3281-2.2733-15.458-6.4032-4.13-4.13-6.4032-9.6186-6.4056-15.4628.0012-6.0249 2.454-11.4897 6.4116-15.4472C178.0458 267.0663 183.5105 264.6135 189.5379 264.6147zm7.993 21.8576c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6538 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403C196.7013 290.6202 197.5321 288.6115 197.5309 286.4723z"/><path style="opacity:.3;fill:#fff" d="M189.5403 264.6153c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8065-21.8612-21.8613.0-6.0285 2.4516-11.492 6.4116-15.452C178.0482 267.0669 183.5117 264.6153 189.5403 264.6153zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.6366 290.6783 197.5344 288.6792 197.5344 286.4765z"/><g><defs><path id="SVGID_9_" d="M195.1881 292.1268c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.9989 7.9942-7.9941 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.5344 288.6792 196.6366 290.6783 195.1881 292.1268z"/></defs><clipPath id="SVGID_10_"><use xlink:href="#SVGID_9_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_10_);fill:#fff" d="M190.5209 279.463c-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7446-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9941 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C194.239 280.164 192.4279 279.463 190.5209 279.463z"/><path style="opacity:.13;clip-path:url(#SVGID_10_);fill:#020202" d="M190.5209 279.463c-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7446-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9941 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C194.239 280.164 192.4279 279.463 190.5209 279.463z"/></g><g><defs><path id="SVGID_11_" d="M189.5403 264.6153c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8065-21.8612-21.8613.0-6.0285 2.4516-11.492 6.4116-15.452C178.0482 267.0669 183.5117 264.6153 189.5403 264.6153zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.6366 290.6783 197.5344 288.6792 197.5344 286.4765z"/></defs><clipPath id="SVGID_12_"><use xlink:href="#SVGID_11_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_12_);fill:#56a55c" d="M173.11 270.0439c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8613 12.0547.0024 21.8636-9.797 21.8613-21.8613.0024-3.8474-1.0151-7.6326-2.9353-10.9462-3.8977-6.7325-11.1497-10.9151-18.926-10.9151C182.5311 263.6346 177.0676 266.0863 173.11 270.0439z"/></g></g><rect x="199.3456" y="279.5436" style="fill:#56a55c" width="122.6266" height="13.8671"/></g><g><g><path style="fill:#f1bc42" d="M189.0874 318.7208l.0012-.0012c7.7751.0012 15.0295 4.1862 18.932 10.9234 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3305-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032s-11.328-2.2733-15.458-6.4032-6.4032-9.6186-6.4056-15.4628c.0012-6.025 2.454-11.4897 6.4116-15.4472C177.5953 321.1724 183.0601 318.7196 189.0874 318.7208zm7.993 21.8576c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6539 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403S197.0816 342.7176 197.0804 340.5784z"/><path style="opacity:.3;fill:#fff" d="M189.0898 318.7214c7.7763.0 15.0283 4.1826 18.926 10.915 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8612-12.0547.0024-21.8636-9.8065-21.8612-21.8612.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 321.173 183.0612 318.7214 189.0898 318.7214zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 344.7844 197.0839 342.7853 197.0839 340.5826z"/><g><defs><path id="SVGID_13_" d="M194.7376 346.2329c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.999 7.9942-7.9942 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.0839 342.7853 196.1861 344.7844 194.7376 346.2329z"/></defs><clipPath id="SVGID_14_"><use xlink:href="#SVGID_13_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_14_);fill:#fff" d="M190.0704 333.5691c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0834 6.1218 2.8788C193.7885 334.2701 191.9774 333.5691 190.0704 333.5691z"/><path style="opacity:.13;clip-path:url(#SVGID_14_);fill:#020202" d="M190.0704 333.5691c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0834 6.1218 2.8788C193.7885 334.2701 191.9774 333.5691 190.0704 333.5691z"/></g><g><defs><path id="SVGID_15_" d="M189.0898 318.7214c7.7763.0 15.0283 4.1826 18.926 10.915 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8612-12.0547.0024-21.8636-9.8065-21.8612-21.8612.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 321.173 183.0612 318.7214 189.0898 318.7214zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 344.7844 197.0839 342.7853 197.0839 340.5826z"/></defs><clipPath id="SVGID_16_"><use xlink:href="#SVGID_15_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_16_);fill:#f1bc42" d="M172.6595 324.15c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8612 12.0547.0024 21.8636-9.797 21.8613-21.8612.0024-3.8474-1.0151-7.6327-2.9353-10.9462-3.8977-6.7324-11.1497-10.9151-18.926-10.9151C182.0806 317.7407 176.6171 320.1924 172.6595 324.15z"/></g></g><rect x="198.8952" y="333.6497" style="fill:#f1bc42" width="122.6266" height="13.8671"/></g></g></svg></span><span class=navbar-brand__name>Battle Bots Documentation</span></a><div class="td-navbar-nav-scroll ms-md-auto" id=main_navbar><ul class=navbar-nav></ul></div><div class="d-none d-lg-block"><div class="td-search td-search--offline"><div class=td-search__icon></div><input type=search class="td-search__input form-control" placeholder="Search this site…" aria-label="Search this site…" autocomplete=off data-offline-search-index-json-src=/battlebots/pr-preview/pr-150/offline-search-index.4ec2a3d833387c1bc060b88e86238222.json data-offline-search-base-href=/ data-offline-search-max-results=10></div></div></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><form class="td-sidebar__search d-flex align-items-center"><div class="td-search td-search--offline"><div class=td-search__icon></div><input type=search class="td-search__input form-control" placeholder="Search this site…" aria-label="Search this site…" autocomplete=off data-offline-search-index-json-src=/battlebots/pr-preview/pr-150/offline-search-index.4ec2a3d833387c1bc060b88e86238222.json data-offline-search-base-href=/ data-offline-search-max-results=10></div><button class="btn btn-link td-sidebar__toggle d-md-none p-0 ms-3 fas fa-bars" type=button data-bs-toggle=collapse data-bs-target=#td-section-nav aria-controls=td-section-nav aria-expanded=false aria-label="Toggle section navigation"></button></form><nav class="td-sidebar-nav collapse" id=td-section-nav><ul class="td-sidebar-nav__section pe-md-3 ul-0"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-battlebotspr-previewpr-150-li><a href=/battlebots/pr-preview/pr-150/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section tree-root" id=m-battlebotspr-previewpr-150><span>Battle Bots</span></a><ul class=ul-1><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-battlebotspr-previewpr-150research_and_development-li><a href=/battlebots/pr-preview/pr-150/research_and_development/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-battlebotspr-previewpr-150research_and_development><span>Research & Design</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-battlebotspr-previewpr-150research_and_developmentuser-journeys-li><a href=/battlebots/pr-preview/pr-150/research_and_development/user-journeys/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-battlebotspr-previewpr-150research_and_developmentuser-journeys><span>User Journeys</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-battlebotspr-previewpr-150research_and_developmentuser-journeys0001-poc-li><a href=/battlebots/pr-preview/pr-150/research_and_development/user-journeys/0001-poc/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-battlebotspr-previewpr-150research_and_developmentuser-journeys0001-poc><span>[0001] Proof of Concept - 1v1 Battle</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-battlebotspr-previewpr-150research_and_developmentanalysis-li><a href=/battlebots/pr-preview/pr-150/research_and_development/analysis/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-battlebotspr-previewpr-150research_and_developmentanalysis><span>Analysis</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-battlebotspr-previewpr-150research_and_developmentanalysisobservability-li><a href=/battlebots/pr-preview/pr-150/research_and_development/analysis/observability/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-battlebotspr-previewpr-150research_and_developmentanalysisobservability><span>Observability Analysis</span></a><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-battlebotspr-previewpr-150research_and_developmentanalysisobservabilityotel-collector-li><a href=/battlebots/pr-preview/pr-150/research_and_development/analysis/observability/otel-collector/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-battlebotspr-previewpr-150research_and_developmentanalysisobservabilityotel-collector><span>OpenTelemetry Collector</span></a><ul class="ul-5 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-battlebotspr-previewpr-150research_and_developmentanalysisobservabilityotel-collectoropentelemetry-collector-overview-li><a href=/battlebots/pr-preview/pr-150/research_and_development/analysis/observability/otel-collector/opentelemetry-collector-overview/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-battlebotspr-previewpr-150research_and_developmentanalysisobservabilityotel-collectoropentelemetry-collector-overview><span>OpenTelemetry Collector Overview</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-battlebotspr-previewpr-150research_and_developmentanalysisobservabilityotel-collectorotel-collector-logs-li><a href=/battlebots/pr-preview/pr-150/research_and_development/analysis/observability/otel-collector/otel-collector-logs/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-battlebotspr-previewpr-150research_and_developmentanalysisobservabilityotel-collectorotel-collector-logs><span>OpenTelemetry Collector: Logs Support</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child active-path" id=m-battlebotspr-previewpr-150research_and_developmentanalysisobservabilityotel-collectorotel-collector-metrics-li><a href=/battlebots/pr-preview/pr-150/research_and_development/analysis/observability/otel-collector/otel-collector-metrics/ class="align-left ps-0 active td-sidebar-link td-sidebar-link__page" id=m-battlebotspr-previewpr-150research_and_developmentanalysisobservabilityotel-collectorotel-collector-metrics><span class=td-sidebar-nav-active-item>OpenTelemetry Collector: Metrics Support</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-battlebotspr-previewpr-150research_and_developmentanalysisobservabilityotel-collectorotel-collector-self-monitoring-li><a href=/battlebots/pr-preview/pr-150/research_and_development/analysis/observability/otel-collector/otel-collector-self-monitoring/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-battlebotspr-previewpr-150research_and_developmentanalysisobservabilityotel-collectorotel-collector-self-monitoring><span>OpenTelemetry Collector: Self-Monitoring</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-battlebotspr-previewpr-150research_and_developmentanalysisobservabilityotel-collectorotel-collector-traces-li><a href=/battlebots/pr-preview/pr-150/research_and_development/analysis/observability/otel-collector/otel-collector-traces/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-battlebotspr-previewpr-150research_and_developmentanalysisobservabilityotel-collectorotel-collector-traces><span>OpenTelemetry Collector: Traces Support</span></a></li></ul></li></ul></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-battlebotspr-previewpr-150research_and_developmentadrs-li><a href=/battlebots/pr-preview/pr-150/research_and_development/adrs/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-battlebotspr-previewpr-150research_and_developmentadrs><span>Architecture Decision Records</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-battlebotspr-previewpr-150research_and_developmentadrs0001-use-madr-for-architecture-decision-records-li><a href=/battlebots/pr-preview/pr-150/research_and_development/adrs/0001-use-madr-for-architecture-decision-records/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-battlebotspr-previewpr-150research_and_developmentadrs0001-use-madr-for-architecture-decision-records><span>[0001] Use MADR for Architecture Decision Records</span></a></li></ul></li></ul></li></ul></li></ul></nav></div></aside><aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none"><div class="td-page-meta ms-2 pb-1 pt-2 mb-0"><a href=https://github.com/z5labs/battlebots/tree/main/content/research_and_development/analysis/observability/otel-collector/otel-collector-metrics.md class="td-page-meta--view td-page-meta__view" target=_blank rel=noopener><i class="fa-solid fa-file-lines fa-fw"></i> View page source</a>
<a href=https://github.com/z5labs/battlebots/edit/main/content/research_and_development/analysis/observability/otel-collector/otel-collector-metrics.md class="td-page-meta--edit td-page-meta__edit" target=_blank rel=noopener><i class="fa-solid fa-pen-to-square fa-fw"></i> Edit this page</a>
<a href="https://github.com/z5labs/battlebots/new/main/content/research_and_development/analysis/observability/otel-collector?filename=change-me.md&amp;value=---%0Atitle%3A+%22Long+Page+Title%22%0AlinkTitle%3A+%22Short+Nav+Title%22%0Aweight%3A+100%0Adescription%3A+%3E-%0A+++++Page+description+for+heading+and+indexes.%0A---%0A%0A%23%23+Heading%0A%0AEdit+this+template+to+create+your+new+page.%0A%0A%2A+Give+it+a+good+name%2C+ending+in+%60.md%60+-+e.g.+%60getting-started.md%60%0A%2A+Edit+the+%22front+matter%22+section+at+the+top+of+the+page+%28weight+controls+how+its+ordered+amongst+other+pages+in+the+same+directory%3B+lowest+number+first%29.%0A%2A+Add+a+good+commit+message+at+the+bottom+of+the+page+%28%3C80+characters%3B+use+the+extended+description+field+for+more+detail%29.%0A%2A+Create+a+new+branch+so+you+can+preview+your+new+file+and+request+a+review+via+Pull+Request.%0A" class="td-page-meta--child td-page-meta__child" target=_blank rel=noopener><i class="fa-solid fa-pen-to-square fa-fw"></i> Create child page</a>
<a href="https://github.com/z5labs/battlebots/issues/new?title=OpenTelemetry%20Collector:%20Metrics%20Support" class="td-page-meta--issue td-page-meta__issue" target=_blank rel=noopener><i class="fa-solid fa-list-check fa-fw"></i> Create documentation issue</a>
<a href=https://github.com/z5labs/battlebots/issues/new class="td-page-meta--project td-page-meta__project-issue" target=_blank rel=noopener><i class="fa-solid fa-list-check fa-fw"></i> Create project issue</a></div><div class=td-toc><nav id=TableOfContents><ul><li><a href=#overview>Overview</a></li><li><a href=#key-concepts>Key Concepts</a><ul><li><a href=#opentelemetry-metrics-data-model>OpenTelemetry Metrics Data Model</a></li><li><a href=#metric-types>Metric Types</a></li><li><a href=#temporality>Temporality</a></li></ul></li><li><a href=#metrics-receivers>Metrics Receivers</a><ul><li><a href=#prometheus-receiver>Prometheus Receiver</a></li><li><a href=#host-metrics-receiver>Host Metrics Receiver</a></li><li><a href=#otlp-receiver>OTLP Receiver</a></li><li><a href=#other-metrics-receivers>Other Metrics Receivers</a></li></ul></li><li><a href=#metrics-processors>Metrics Processors</a><ul><li><a href=#metrics-transform-processor>Metrics Transform Processor</a></li><li><a href=#filter-processor>Filter Processor</a></li><li><a href=#cumulative-to-delta-processor>Cumulative to Delta Processor</a></li><li><a href=#attributes-processor>Attributes Processor</a></li><li><a href=#batch-processor>Batch Processor</a></li></ul></li><li><a href=#metrics-exporters>Metrics Exporters</a><ul><li><a href=#otlp-exporter>OTLP Exporter</a></li><li><a href=#prometheus-remote-write-exporter>Prometheus Remote Write Exporter</a></li><li><a href=#prometheus-exporter>Prometheus Exporter</a></li><li><a href=#file-exporter>File Exporter</a></li></ul></li><li><a href=#metrics-pipeline-flow>Metrics Pipeline Flow</a></li><li><a href=#configuration-considerations>Configuration Considerations</a><ul><li><a href=#temporality-management>Temporality Management</a></li><li><a href=#cardinality-control>Cardinality Control</a></li><li><a href=#scrape-interval-tuning>Scrape Interval Tuning</a></li><li><a href=#exemplar-support>Exemplar Support</a></li></ul></li><li><a href=#integration-points>Integration Points</a><ul><li><a href=#battlebots-metrics-collection>BattleBots Metrics Collection</a></li><li><a href=#metrics-trace-correlation>Metrics-Trace Correlation</a></li><li><a href=#cross-signal-analysis>Cross-Signal Analysis</a></li></ul></li><li><a href=#further-reading>Further Reading</a><ul><li><a href=#official-documentation>Official Documentation</a></li><li><a href=#integration-guides>Integration Guides</a></li><li><a href=#component-specific-resources>Component-Specific Resources</a></li><li><a href=#analysis-and-best-practices>Analysis and Best Practices</a></li><li><a href=#related-analysis-documents>Related Analysis Documents</a></li></ul></li></ul></nav></div></aside><main class="col-12 col-md-9 col-xl-8 ps-md-5" role=main><nav aria-label=breadcrumb class=td-breadcrumbs><ol class=breadcrumb><li class=breadcrumb-item><a href=/battlebots/pr-preview/pr-150/research_and_development/>Research & Design</a></li><li class=breadcrumb-item><a href=/battlebots/pr-preview/pr-150/research_and_development/analysis/>Analysis</a></li><li class=breadcrumb-item><a href=/battlebots/pr-preview/pr-150/research_and_development/analysis/observability/>Observability Analysis</a></li><li class=breadcrumb-item><a href=/battlebots/pr-preview/pr-150/research_and_development/analysis/observability/otel-collector/>OpenTelemetry Collector</a></li><li class="breadcrumb-item active" aria-current=page>OpenTelemetry Collector: Metrics Support</li></ol></nav><div class=td-content><h1>OpenTelemetry Collector: Metrics Support</h1><div class=lead>Deep dive into how the OpenTelemetry Collector handles metrics data, including the metrics data model, receivers, processors, exporters, and temporality concepts.</div><header class=article-meta></header><h2 id=overview>Overview</h2><p>The OpenTelemetry Collector provides comprehensive support for collecting, processing, and exporting metrics data from diverse sources to multiple backends. It serves as a bridge between different metrics ecosystems, enabling seamless integration of Prometheus metrics, host system metrics, and custom application metrics within a unified observability platform.</p><p>The Collector&rsquo;s metrics support emphasizes signal correlation—connecting metrics to traces through exemplars and enriching attributes via Baggage and Context. This enables powerful observability patterns such as jumping from a metric anomaly to related traces or finding metrics that explain slow trace spans.</p><p>Key capabilities include scraping Prometheus endpoints, collecting host system metrics, transforming metric formats, aggregating data points, and routing metrics to multiple backends simultaneously while handling different temporality preferences.</p><h2 id=key-concepts>Key Concepts</h2><h3 id=opentelemetry-metrics-data-model>OpenTelemetry Metrics Data Model</h3><p>The <a href=https://opentelemetry.io/docs/specs/otel/metrics/data-model/>OpenTelemetry Metrics data model</a> defines how metrics are represented and processed. The data model serves to:</p><ul><li>Capture raw measurements efficiently and simultaneously</li><li>Decouple instrumentation from the SDK implementation</li><li>Enable correlation with traces and logs</li><li>Support migration from OpenCensus and Prometheus</li></ul><p><strong>Architecture layers:</strong></p><ol><li><strong>MeterProvider & Instruments</strong>: Applications collect measurements through Meters and their associated Instruments</li><li><strong>In-Memory Aggregation</strong>: Measurements aggregate into an intermediate representation</li><li><strong>MetricReader</strong>: Processes aggregated metrics for export to backends</li></ol><h3 id=metric-types>Metric Types</h3><p>OpenTelemetry supports four primary metric types, each suited for different measurement scenarios.</p><h4 id=counter-sum>Counter (Sum)</h4><p>Counters represent cumulative or delta measurements that can only increase over time (or be reset to zero). Common examples include:</p><ul><li>Request count</li><li>Error count</li><li>Bytes transmitted</li><li>Items processed</li></ul><p><strong>Characteristics:</strong></p><ul><li>Monotonically increasing</li><li>Supports both delta and cumulative temporality</li><li>Can be aggregated across instances</li><li>Typically visualized as rate-of-change</li></ul><p>For detailed specifications, see <a href=https://docs.datadoghq.com/metrics/open_telemetry/otlp_metric_types/>OTLP Metrics Types</a>.</p><h4 id=gauge>Gauge</h4><p>Gauges represent sampled values that can arbitrarily increase or decrease over time. Unlike counters, gauges are not cumulative—they reflect the current value at the time of measurement.</p><p>Common examples include:</p><ul><li>CPU usage percentage</li><li>Memory utilization</li><li>Queue depth</li><li>Active connection count</li><li>Temperature readings</li></ul><p><strong>Characteristics:</strong></p><ul><li>Non-monotonic (can increase or decrease)</li><li>No aggregation temporality (uses &ldquo;last sample value&rdquo;)</li><li>Represents point-in-time state</li><li>Cannot be meaningfully aggregated across instances without additional context</li></ul><h4 id=histogram>Histogram</h4><p>Histograms convey a population of recorded measurements in a compressed format by grouping measurements into configurable buckets. This enables statistical analysis without storing individual data points.</p><p>Common examples include:</p><ul><li>Request latency distribution</li><li>Response size distribution</li><li>Query execution time</li><li>Message size distribution</li></ul><p><strong>Characteristics:</strong></p><ul><li>Provides count, sum, and bucket distributions</li><li>Supports both delta and cumulative temporality</li><li>Enables percentile calculations (p50, p95, p99)</li><li>More efficient than storing individual measurements</li></ul><p>Histograms are particularly valuable for understanding the distribution of latency or size measurements, revealing whether most requests are fast with occasional slow outliers, or if performance degrades uniformly.</p><h4 id=summary>Summary</h4><p>Summaries provide pre-calculated quantile values (percentiles) over a time window. Unlike histograms, which send bucket distributions for backend calculation, summaries compute quantiles client-side.</p><p><strong>Important</strong>: Summary points cannot always be merged meaningfully. This point type is <strong>not recommended for new applications</strong> and exists primarily for compatibility with other formats like Prometheus summaries.</p><p>For comprehensive metric type details, see <a href=https://uptrace.dev/opentelemetry/metrics>OpenTelemetry Metrics</a>.</p><h3 id=temporality>Temporality</h3><p>Temporality defines how metric values are accumulated and reported over time. OpenTelemetry supports two aggregation temporality modes:</p><h4 id=delta-temporality>Delta Temporality</h4><p>Delta temporality reports the change since the last collection period. Each data point represents only new measurements since the previous export.</p><p><strong>Characteristics:</strong></p><ul><li>Non-overlapping time windows</li><li>Measures rate of change</li><li>Preferred by some backends (StatsD, Carbon)</li><li>Requires stateless aggregation</li></ul><p><strong>Example</strong>: A request counter shows +100 requests in period 1, then +150 requests in period 2.</p><h4 id=cumulative-temporality>Cumulative Temporality</h4><p>Cumulative temporality reports the total value since process start (or a fixed start point). Each data point includes all measurements from the beginning.</p><p><strong>Characteristics:</strong></p><ul><li>Overlapping time windows from fixed start</li><li>Accumulates over application lifetime</li><li>Preferred by Prometheus</li><li>Resilient to collection gaps</li></ul><p><strong>Example</strong>: A request counter shows 100 total requests in period 1, then 250 total requests in period 2.</p><p><strong>Important note</strong>: Set the temporality preference to DELTA when possible, as setting it to CUMULATIVE may discard some data points during application or collector startup. However, Prometheus backends require cumulative temporality.</p><p>For more details, see <a href=https://last9.io/blog/opentelemetry-metrics-aggregation/>OpenTelemetry Metrics Aggregation</a>.</p><h2 id=metrics-receivers>Metrics Receivers</h2><p>Receivers collect metrics data from various sources and convert it into the OpenTelemetry metrics data model.</p><h3 id=prometheus-receiver>Prometheus Receiver</h3><p>The <a href=https://www.dash0.com/guides/opentelemetry-prometheus-receiver>Prometheus receiver</a> enables the OpenTelemetry Collector to act as a Prometheus server by scraping Prometheus-compatible endpoints, then converting the metrics into OTLP format.</p><p><strong>Key capabilities:</strong></p><ul><li>Scrapes any Prometheus <code>/metrics</code> endpoint</li><li>Supports service discovery mechanisms</li><li>Converts Prometheus metrics to OpenTelemetry format</li><li>Handles metric relabeling and filtering</li><li>Scales with Target Allocator for large deployments</li></ul><p><strong>Configuration example:</strong></p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#204a87;font-weight:700>receivers</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>prometheus</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>config</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>scrape_configs</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span>- <span style=color:#204a87;font-weight:700>job_name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#39;otel-collector&#39;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>          </span><span style=color:#204a87;font-weight:700>scrape_interval</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>15s</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>          </span><span style=color:#204a87;font-weight:700>static_configs</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>            </span>- <span style=color:#204a87;font-weight:700>targets</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#39;localhost:8888&#39;</span><span style=color:#000;font-weight:700>]</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><p><strong>Scaling with Target Allocator:</strong></p><p>The <a href=https://opentelemetry.io/docs/platforms/kubernetes/helm/collector/>Target Allocator</a> decouples service discovery and metric collection, allowing independent scaling. Each Collector pod registers with the Target Allocator, which uses consistent hashing to distribute discovered targets evenly among active Collectors, ensuring each target is scraped exactly once without overlap.</p><p>For comprehensive guidance, see <a href=https://uptrace.dev/opentelemetry/collector/prometheus>Prometheus and OpenTelemetry Collector Integration</a>.</p><h3 id=host-metrics-receiver>Host Metrics Receiver</h3><p>The <a href=https://uptrace.dev/opentelemetry/collector/host-metrics>hostmetrics receiver</a> collects comprehensive system-level metrics from host machines, providing visibility into infrastructure health.</p><p><strong>Available scrapers:</strong></p><ul><li><strong>cpu</strong>: CPU utilization, time, and frequency</li><li><strong>disk</strong>: Disk I/O operations and throughput</li><li><strong>filesystem</strong>: Filesystem usage and available space</li><li><strong>memory</strong>: Memory utilization and swap usage</li><li><strong>network</strong>: Network interface statistics and errors</li><li><strong>load</strong>: System load averages</li><li><strong>paging</strong>: Paging and swapping activity</li><li><strong>processes</strong>: Process count and resource usage</li></ul><p><strong>Configuration example:</strong></p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#204a87;font-weight:700>receivers</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>hostmetrics</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>collection_interval</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>30s</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>scrapers</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>cpu</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>disk</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>filesystem</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>memory</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>network</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><p>The hostmetrics receiver is essential for infrastructure monitoring and provides context for application-level metrics. When deployed in Kubernetes, appropriate volumes and volumeMounts are automatically configured when the hostMetrics preset is enabled.</p><h3 id=otlp-receiver>OTLP Receiver</h3><p>The OTLP receiver accepts metrics data transmitted using the OpenTelemetry Protocol from instrumented applications or upstream collectors.</p><p><strong>Supported transports:</strong></p><ul><li>gRPC (default port 4317)</li><li>HTTP (default port 4318, endpoint <code>/v1/metrics</code>)</li></ul><p><strong>Use cases:</strong></p><ul><li>Collecting metrics directly from OpenTelemetry SDKs</li><li>Multi-tier collector deployments (agent → gateway)</li><li>Receiving metrics from serverless functions</li></ul><h3 id=other-metrics-receivers>Other Metrics Receivers</h3><p>The ecosystem includes receivers for diverse metrics sources:</p><ul><li><strong>statsd</strong>: Receives StatsD protocol metrics</li><li><strong>kafka</strong>: Consumes metrics from Kafka topics</li><li><strong>influxdb</strong>: Receives InfluxDB line protocol</li><li><strong>carbon</strong>: Receives Graphite carbon metrics</li><li><strong>collectd</strong>: Receives collectd metrics</li><li><strong>postgresql</strong>: Scrapes PostgreSQL metrics</li><li><strong>redis</strong>: Scrapes Redis metrics</li><li><strong>mongodb</strong>: Scrapes MongoDB metrics</li></ul><p>For a complete list, see the <a href=https://opentelemetry.io/docs/collector/components/receiver/>Receiver Components</a> documentation.</p><h2 id=metrics-processors>Metrics Processors</h2><p>Processors transform and enrich metrics data as it flows through pipelines.</p><h3 id=metrics-transform-processor>Metrics Transform Processor</h3><p>The metrics transform processor modifies metric names, types, and attributes using transformation rules.</p><p><strong>Common operations:</strong></p><ul><li>Rename metrics for consistency</li><li>Change metric types (e.g., gauge to counter)</li><li>Add or modify resource attributes</li><li>Aggregate metrics across dimensions</li></ul><h3 id=filter-processor>Filter Processor</h3><p>The filter processor drops metrics matching specified conditions, reducing data volume and costs.</p><p><strong>Use cases:</strong></p><ul><li>Dropping debug metrics in production</li><li>Filtering metrics from test environments</li><li>Excluding high-cardinality metrics</li><li>Removing specific metric names or attribute values</li></ul><h3 id=cumulative-to-delta-processor>Cumulative to Delta Processor</h3><p>This processor converts cumulative temporality metrics to delta temporality, useful when backends prefer delta metrics.</p><h3 id=attributes-processor>Attributes Processor</h3><p>Adds, updates, or deletes metric attributes and resource attributes, enabling:</p><ul><li>Environment labeling (<code>environment=production</code>)</li><li>Team ownership tags (<code>team=platform</code>)</li><li>Cost allocation labels</li><li>Normalization across different metric sources</li></ul><h3 id=batch-processor>Batch Processor</h3><p>Groups metrics before export, improving throughput and reducing network overhead. Recommended for all production deployments.</p><p><strong>Configuration considerations:</strong></p><ul><li>Batch size: Number of metric data points per batch</li><li>Timeout: Maximum wait before sending partial batch</li><li>Memory limits: Prevents unbounded memory growth</li></ul><h2 id=metrics-exporters>Metrics Exporters</h2><p>Exporters send processed metrics to observability backends and time-series databases.</p><h3 id=otlp-exporter>OTLP Exporter</h3><p>The OTLP exporter sends metrics using the OpenTelemetry Protocol to OTLP-compatible backends.</p><p><strong>Supported destinations:</strong></p><ul><li>OpenTelemetry-native backends</li><li>Cloud vendor endpoints (AWS CloudWatch, Google Cloud Monitoring, Azure Monitor)</li><li>Commercial observability platforms (Datadog, New Relic, Honeycomb)</li></ul><p><strong>Important</strong>: OTLP is now the <strong>recommended protocol</strong> for sending metrics to modern backends. For example, <a href=https://prometheus.io/docs/guides/opentelemetry/>Prometheus can now accept OTLP</a> directly:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#204a87>export</span> <span style=color:#000>OTEL_EXPORTER_OTLP_PROTOCOL</span><span style=color:#ce5c00;font-weight:700>=</span>http/protobuf
</span></span><span style=display:flex><span><span style=color:#204a87>export</span> <span style=color:#000>OTEL_EXPORTER_OTLP_METRICS_ENDPOINT</span><span style=color:#ce5c00;font-weight:700>=</span>http://localhost:9090/api/v1/otlp/v1/metrics
</span></span></code></pre></div><h3 id=prometheus-remote-write-exporter>Prometheus Remote Write Exporter</h3><p>The <a href=https://github.com/open-telemetry/opentelemetry-collector-contrib/blob/main/exporter/prometheusremotewriteexporter/README.md>Prometheus Remote Write exporter</a> sends OpenTelemetry metrics to Prometheus remote write compatible backends such as:</p><ul><li>Cortex</li><li>Grafana Mimir</li><li>Thanos</li><li>Amazon Managed Service for Prometheus</li><li>Google Cloud Managed Prometheus</li></ul><p><strong>Capabilities:</strong></p><ul><li>TLS support (required by default)</li><li>Queued retry mechanisms</li><li>Authentication options (basic auth, bearer token, OAuth2)</li></ul><p><strong>Important limitation</strong>: Non-cumulative monotonic, histogram summary, and exponential histogram OTLP metrics are dropped by this exporter.</p><p>For Grafana Mimir specifically, it&rsquo;s <a href=https://grafana.com/docs/mimir/latest/configure/configure-otel-collector/>recommended to use OTLP</a> rather than Prometheus remote write.</p><h3 id=prometheus-exporter>Prometheus Exporter</h3><p>The Prometheus exporter exposes metrics in Prometheus format on an HTTP endpoint for Prometheus servers to scrape.</p><p><strong>Use cases:</strong></p><ul><li>Existing Prometheus deployments</li><li>Push-based collection converted to pull-based</li><li>Multi-backend export (push to one, expose for scraping by another)</li></ul><h3 id=file-exporter>File Exporter</h3><p>Writes metrics to local files for debugging, archival, or processing by batch systems.</p><p>For additional exporters, see the <a href=https://opentelemetry.io/docs/collector/components/exporter/>Exporter Components</a> documentation.</p><h2 id=metrics-pipeline-flow>Metrics Pipeline Flow</h2><p>A typical metrics pipeline demonstrates collection, processing, and export to multiple backends:</p><pre class=mermaid>graph LR
    A[Prometheus Endpoints] --&gt; B[Prometheus Receiver]
    C[Host System] --&gt; D[Host Metrics Receiver]
    E[OTLP SDK] --&gt; F[OTLP Receiver]

    B --&gt; G[Attributes Processor]
    D --&gt; G
    F --&gt; G

    G --&gt; H[Filter Processor]
    H --&gt; I[Transform Processor]
    I --&gt; J[Batch Processor]

    J --&gt; K[OTLP Exporter]
    K --&gt; L[Prometheus Server]

    J --&gt; M[Prometheus Remote Write]
    M --&gt; N[Grafana Mimir]

    style A fill:#e1f5ff
    style C fill:#e1f5ff
    style E fill:#e1f5ff
    style B fill:#fff4e6
    style D fill:#fff4e6
    style F fill:#fff4e6
    style G fill:#f3e5f5
    style H fill:#f3e5f5
    style I fill:#f3e5f5
    style J fill:#f3e5f5
    style K fill:#e8f5e9
    style M fill:#e8f5e9
    style L fill:#e1f5ff
    style N fill:#e1f5ff</pre><h2 id=configuration-considerations>Configuration Considerations</h2><h3 id=temporality-management>Temporality Management</h3><p>Different backends have different temporality preferences:</p><ul><li><strong>Prometheus</strong>: Requires cumulative temporality</li><li><strong>StatsD-like systems</strong>: Prefer delta temporality</li><li><strong>Cloud vendors</strong>: Often accept both</li></ul><p>Configure the Collector to convert between temporalities based on backend requirements using the cumulative-to-delta processor.</p><h3 id=cardinality-control>Cardinality Control</h3><p>High cardinality metrics (many unique label combinations) can overwhelm backends and increase costs. Strategies include:</p><ul><li>Filtering high-cardinality dimensions</li><li>Aggregating metrics before export</li><li>Dropping rarely-used labels</li><li>Using metric relabeling to reduce dimensions</li></ul><h3 id=scrape-interval-tuning>Scrape Interval Tuning</h3><p>Balance data freshness with resource consumption:</p><ul><li>Short intervals (5-15s): Real-time monitoring, higher costs</li><li>Medium intervals (30-60s): Standard monitoring</li><li>Long intervals (5m+): Capacity planning, cost optimization</li></ul><h3 id=exemplar-support>Exemplar Support</h3><p>Exemplars link metrics to traces by attaching trace IDs to specific metric data points. This enables:</p><ul><li>Jumping from a high-latency histogram bucket to example slow traces</li><li>Finding traces that contributed to an error rate spike</li><li>Correlating metrics anomalies with detailed trace analysis</li></ul><p>Enable exemplar support in the Prometheus receiver and ensure trace context propagation in applications.</p><h2 id=integration-points>Integration Points</h2><h3 id=battlebots-metrics-collection>BattleBots Metrics Collection</h3><p>For the BattleBots platform, metrics collection would capture:</p><p><strong>Game Metrics:</strong></p><ul><li>Match duration and outcome distribution</li><li>Bot action rates (attacks, defenses, moves)</li><li>Game state transition frequency</li></ul><p><strong>Performance Metrics:</strong></p><ul><li>Request latency percentiles</li><li>WebSocket connection counts</li><li>Message throughput rates</li><li>Server CPU and memory usage</li></ul><p><strong>Business Metrics:</strong></p><ul><li>Active user count</li><li>Matches per hour</li><li>Bot creation rate</li></ul><p>The combination of Prometheus receiver (for Go runtime metrics), hostmetrics receiver (for infrastructure), and OTLP receiver (for custom metrics) provides comprehensive visibility.</p><h3 id=metrics-trace-correlation>Metrics-Trace Correlation</h3><p>Connecting metrics and traces enables powerful workflows:</p><ol><li><strong>Alerting on metrics</strong>: High error rate triggers investigation</li><li><strong>Drill-down to traces</strong>: Click exemplar to see example failing requests</li><li><strong>Root cause analysis</strong>: Examine detailed trace spans to identify cause</li><li><strong>Fix validation</strong>: Monitor metrics to confirm fix effectiveness</li></ol><p>This requires:</p><ul><li>Applications emit both metrics and traces</li><li>Exemplars enabled in metric collection</li><li>Unified storage backend (or cross-backend linking)</li></ul><h3 id=cross-signal-analysis>Cross-Signal Analysis</h3><p>Metrics complement logs and traces:</p><ul><li><strong>Metrics</strong> identify anomalies at scale (response time spike)</li><li><strong>Traces</strong> show affected request flows (which service is slow)</li><li><strong>Logs</strong> provide detailed context (exception messages, stack traces)</li></ul><p>The Collector&rsquo;s unified data model enables seamless correlation across all three signals.</p><h2 id=further-reading>Further Reading</h2><h3 id=official-documentation>Official Documentation</h3><ul><li><a href=https://opentelemetry.io/docs/concepts/signals/metrics/>OpenTelemetry Metrics Specification</a></li><li><a href=https://opentelemetry.io/docs/specs/otel/metrics/data-model/>Metrics Data Model</a></li><li><a href=https://opentelemetry.io/docs/collector/components/receiver/>Receiver Components</a></li><li><a href=https://opentelemetry.io/docs/collector/components/processor/>Processor Components</a></li><li><a href=https://opentelemetry.io/docs/collector/components/exporter/>Exporter Components</a></li></ul><h3 id=integration-guides>Integration Guides</h3><ul><li><a href=https://www.dash0.com/guides/opentelemetry-prometheus-receiver>Collecting Prometheus Metrics with the OpenTelemetry Collector</a></li><li><a href=https://uptrace.dev/opentelemetry/collector/prometheus>Prometheus and OpenTelemetry Collector Integration</a></li><li><a href=https://uptrace.dev/opentelemetry/collector/host-metrics>OpenTelemetry Host Metrics receiver</a></li><li><a href=https://prometheus.io/docs/guides/opentelemetry/>Using Prometheus as your OpenTelemetry backend</a></li><li><a href=https://grafana.com/docs/mimir/latest/configure/configure-otel-collector/>Configure the OpenTelemetry Collector to write metrics into Mimir</a></li><li><a href=https://grafana.com/blog/2022/05/10/how-to-collect-prometheus-metrics-with-the-opentelemetry-collector-and-grafana/>How to collect Prometheus metrics with the OpenTelemetry Collector and Grafana</a></li></ul><h3 id=component-specific-resources>Component-Specific Resources</h3><ul><li><a href=https://github.com/open-telemetry/opentelemetry-collector-contrib/blob/main/exporter/prometheusremotewriteexporter/README.md>Prometheus Remote Write Exporter</a></li><li><a href=https://opentelemetry.io/docs/platforms/kubernetes/helm/collector/>OpenTelemetry Collector Chart (Kubernetes)</a></li><li><a href=https://opentelemetry.io/blog/2024/prom-and-otel/>Prometheus and OpenTelemetry - Better Together</a></li></ul><h3 id=analysis-and-best-practices>Analysis and Best Practices</h3><ul><li><a href=https://docs.datadoghq.com/metrics/open_telemetry/otlp_metric_types/>OTLP Metrics Types</a></li><li><a href=https://uptrace.dev/opentelemetry/metrics>Understanding OpenTelemetry Metrics</a></li><li><a href=https://last9.io/blog/opentelemetry-metrics-aggregation/>OpenTelemetry Metrics Aggregation</a></li><li><a href=https://last9.io/blog/how-prometheus-exporters-work-with-opentelemetry/>How Prometheus Exporters Work With OpenTelemetry</a></li></ul><h3 id=related-analysis-documents>Related Analysis Documents</h3><ul><li><a href=opentelemetry-collector-overview.md>OpenTelemetry Collector Overview</a> - Core architecture and concepts</li><li><a href=otel-collector-logs.md>Logs Support</a> - How the Collector handles log data</li><li><a href=otel-collector-traces.md>Traces Support</a> - How the Collector handles distributed traces</li><li><a href=otel-collector-self-monitoring.md>Self-Monitoring</a> - Observing the Collector itself</li></ul></div></main></div></div><footer class="td-footer row d-print-none"><div class=container-fluid><div class="row mx-md-2"><div class="td-footer__left col-6 col-sm-4 order-sm-1"><ul class=td-footer__links-list><li class=td-footer__links-item data-bs-toggle=tooltip title="GitHub Discussions" aria-label="GitHub Discussions"><a target=_blank rel=noopener href=https://github.com/z5labs/battlebots/discussions aria-label="GitHub Discussions"><i class="fab fa-github"></i></a></li></ul></div><div class="td-footer__right col-6 col-sm-4 order-sm-3"><ul class=td-footer__links-list><li class=td-footer__links-item data-bs-toggle=tooltip title=GitHub aria-label=GitHub><a target=_blank rel=noopener href=https://github.com/z5labs/battlebots aria-label=GitHub><i class="fab fa-github"></i></a></li></ul></div><div class="td-footer__center col-12 col-sm-4 py-2 order-sm-2"><span class=td-footer__copyright>&copy;
2025
<span class=td-footer__authors>Z5Labs and Contributors</span></span><span class=td-footer__all_rights_reserved>All Rights Reserved</span></div></div></div></footer></div><script type=module async>
  import mermaid from "https:\/\/cdn.jsdelivr.net\/npm\/mermaid@latest\/dist\/mermaid.esm.min.mjs";

  (function ($) {
    if ($('.mermaid').length == 0) {
      mermaid.initialize({ startOnLoad: false });
      return;
    }

    var params = {};

    
    
    var norm = function (defaultConfig, params) {
      var result = {};
      for (const key in defaultConfig) {
        const keyLower = key.toLowerCase();
        if (defaultConfig.hasOwnProperty(key) && params.hasOwnProperty(keyLower)) {
          if (typeof defaultConfig[key] === "object") {
            result[key] = norm(defaultConfig[key], params[keyLower]);
          } else {
            result[key] = params[keyLower];
          }
        }
      }
      return result;
    };

    var settings = norm(mermaid.mermaidAPI.defaultConfig, params);
    settings.startOnLoad = true;
    if ($('html[data-bs-theme="dark"]').length) {
      settings.theme = 'dark';
    }
    mermaid.initialize(settings);

    
    const lightDarkModeThemeChangeHandler = function (mutationsList, observer) {
      for (const mutation of mutationsList) {
        if (mutation.type === 'attributes' && mutation.attributeName === 'data-bs-theme') {
          
          
          
          location.reload();
        }
      }
    };

    const observer = new MutationObserver(lightDarkModeThemeChangeHandler);
    observer.observe(document.documentElement, {
      attributes: true,
      attributeFilter: ['data-bs-theme']
    });
    

  })(jQuery);
</script><script src=/battlebots/pr-preview/pr-150/js/main.min.403ff095218c662472dab60ed98ecbb19431682de5ac7c6159891241cd366af5.js integrity="sha256-QD/wlSGMZiRy2rYO2Y7LsZQxaC3lrHxhWYkSQc02avU=" crossorigin=anonymous></script><script defer src=/battlebots/pr-preview/pr-150/js/click-to-copy.min.73478a7d4807698aed7e355eb23f9890ca18fea3158604c8471746d046702bad.js integrity="sha256-c0eKfUgHaYrtfjVesj+YkMoY/qMVhgTIRxdG0EZwK60=" crossorigin=anonymous></script><script src=/battlebots/pr-preview/pr-150/js/tabpane-persist.js></script></body></html>