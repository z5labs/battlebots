---
title: "[0000] Proof of Concept - 1v1 Battle"
description: >
    Documents the proof of concept for running a 1v1 battle between two containerized bots in Kubernetes
type: docs
weight: -1
status: "draft"
date: 2025-12-03
owner: ""
stakeholders: []
---

## Overview

The POC User Journey describes the end-to-end flow for demonstrating the core BattleBots platform capabilities. This journey focuses on the minimal viable experience: two containerized bots deployed to Kubernetes engaging in a 1v1 battle. The POC validates the fundamental technical architecture and user experience before expanding to more complex features like tournaments, leaderboards, and advanced bot management.

This journey serves as the foundation for understanding the essential workflows and technical requirements that will inform all future platform development.

## User Personas

**Primary Persona**: POC Developer/Tester
- **Description**: A developer or team member evaluating the BattleBots platform concept through a minimal proof of concept deployment
- **Goals**:
  - Quickly implement and test a basic bot
  - Deploy the POC environment to Kubernetes with minimal configuration
  - Initiate and observe a 1v1 battle between two bots
  - Validate that the core battle mechanics work as expected
  - Identify technical and UX issues before full platform development
- **Pain Points**:
  - Complex deployment processes that obscure core functionality
  - Unclear bot implementation requirements or APIs
  - Lack of visibility into battle state and progress
  - Difficulty debugging when battles don't start or fail mid-execution

## Requirements

### Functionality

#### REQ-FN-001
- **Priority**: P0
- **Description**: Battle should be created via custom resource (Kubernetes CRD)
- **Rationale**: Provides native Kubernetes integration and allows battles to be managed using standard kubectl commands

#### REQ-FN-002
- **Priority**: P0
- **Description**: Battle should automatically start once all Bots are ready
- **Rationale**: Eliminates manual intervention and provides seamless user experience from deployment to battle execution

#### REQ-FN-003
- **Priority**: P0
- **Description**: Entire POC should be runnable locally using kind, minikube, k3s, etc.
- **Rationale**: Enables developers to test and validate the platform without cloud infrastructure, reducing costs and iteration time

#### REQ-FN-004
- **Priority**: P0
- **Description**: Battles should automatically end once one of the bots has been destroyed
- **Rationale**: Provides clear win condition and ensures battles terminate naturally without manual intervention

#### REQ-FN-005
- **Priority**: P0
- **Description**: All resources related to Battle should be cleaned up after completion
- **Rationale**: Prevents resource leaks and cluster pollution, essential for repeatability and cluster hygiene

### Analytics

#### REQ-AN-002
- **Priority**: P0
- **Description**: Record bot actions and decisions during battle
- **Rationale**: Enables replay, debugging, and analysis of bot behavior and battle dynamics

#### REQ-AN-003
- **Priority**: P1
- **Description**: Track battle duration and turn counts
- **Rationale**: Helps identify performance issues, endless battles, and validates that battles complete in reasonable timeframes

#### REQ-AN-004
- **Priority**: P1
- **Description**: Monitor resource utilization (CPU, memory) of bot pods during battles
- **Rationale**: Ensures bots don't consume excessive resources and helps right-size pod resource requests/limits

## Success Metrics

Success for the POC User Journey is measured by how effectively the proof of concept demonstrates core platform capabilities and validates technical feasibility.

**Quantitative Metrics:**
- **Deployment Success Rate**: Target 95%+ of deployments complete without errors
  - Measures: Number of successful deployments / Total deployment attempts
- **Battle Completion Rate**: Target 90%+ of started battles complete successfully
  - Measures: Number of completed battles / Number of started battles
- **Battle Duration**: Target battles complete within 5 minutes
  - Measures: Median time from battle start to completion
- **Bot Responsiveness**: Target <1 second average response time per bot action
  - Measures: Time between battle controller requesting action and bot responding
- **Pod Startup Time**: Target <30 seconds for bot pods to become ready
  - Measures: Time from pod creation to ready status

**Qualitative Metrics:**
- **POC Validation Success**: Target: POC successfully demonstrates core battle mechanics
  - How it will be gathered: Stakeholder review and sign-off that POC meets objectives
- **Developer Experience**: Target: Developers can complete entire flow without external help
  - How it will be gathered: Observation of POC execution, documentation review, developer feedback

## Related Documentation

**Existing ADRs:**
- (No existing ADRs yet - this is the foundational POC journey)

**Required ADRs (Not Yet Created):**
- **Bot SDK Architecture** - Design of the bot interface, SDK, and communication protocol between bots and battle controller
- **Battle Controller Design** - Architecture of the battle controller, state management, and battle loop implementation
- **Kubernetes Deployment Strategy** - Pod specifications, resource limits, networking, and service discovery approach for POC
- **Battle State Management** - How battle state is stored, updated, and synchronized between components
- **Container Registry Selection** - Choice of container registry for bot images (Docker Hub, GCR, ECR, private registry)
- **Monitoring and Observability** - Approach for logging, metrics collection, and battle event streaming
- **Bot Communication Protocol** - API/protocol for battle controller to bot communication (REST, gRPC, WebSocket, message queue)

**Related User Journeys:**
- (To be created) Bot Development and Testing
- (To be created) Multi-Bot Tournament
- (To be created) Battle Replay and Analysis
- (To be created) Bot Registration and Management

**API Documentation:**
- (To be created) Battle Controller API specification
- (To be created) Bot SDK API reference

## Notes

**Future Enhancements:**
- Web-based battle visualization showing real-time battle state
- Battle replay functionality to review completed battles
- Support for more than 2 bots in a single battle (free-for-all or team modes)
- Automated bot testing framework for local development
- CI/CD pipeline for bot builds and deployments
- Persistent battle history and statistics database
- Leaderboard and ranking system based on battle results
- Bot versioning and rollback capabilities
- Pre-battle validation and simulation mode
- Resource limits and fairness controls to ensure balanced battles

**Technical Considerations:**
- Battle controller should be stateless where possible, storing battle state externally (database, ConfigMap, CRD)
- Consider using Kubernetes Custom Resources (CRDs) to represent battles as native K8s objects
- Bot containers should have resource limits to prevent resource exhaustion
- Network policies may be needed to control communication between bots and battle controller
- Consider using a sidecar pattern for battle observability (logging, metrics collection)
- Battle timeout mechanism needed to prevent infinite battles
- Health checks and readiness probes essential for reliable pod lifecycle management
- Consider using Kubernetes Jobs or CronJobs for battle execution rather than long-running Deployments
- Event streaming could use Kubernetes events, or separate event bus (NATS, Kafka)
- Bot SDK should handle retries and graceful degradation for network issues
- Consider battle controller horizontal scaling for multiple concurrent battles in future

**Business Considerations:**
- POC success is critical for securing continued investment in platform development
- Simple, clear demonstration is more valuable than feature-rich complexity for POC
- POC should validate key technical risks: containerization, Kubernetes orchestration, bot communication
- Developer experience during POC will inform platform UX priorities
- POC timeline and resource requirements should be minimal to reduce cost and risk
- Successful POC demonstrates value proposition for target users (battlebot developers)
- POC should be easily repeatable and demonstrable to stakeholders
- Consider POC as foundation for future platform architecture decisions
